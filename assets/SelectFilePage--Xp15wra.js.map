{"version":3,"file":"SelectFilePage--Xp15wra.js","sources":["../../src/views/SelectFilePage.vue"],"sourcesContent":["<template>\n  <div class=\"column justify-center items-center HomePage\">\n    <q-file\n      class=\"fileUpload\"\n      accept=\".txt\"\n      outlined\n      v-model=\"file\"\n      @update:model-value=\"onFileUploaded\"\n    >\n      <template #default>\n        <div\n          class=\"dropArea fileContent\"\n          :class=\"{ isDragging }\"\n          @drop.prevent=\"onDrop\"\n          @dragenter.prevent=\"isDragging = true\"\n          @dragleave.prevent=\"isDragging = false\"\n          @dragover.prevent\n        >\n          <div\n            v-if=\"isDragging\"\n            class=\"column align-center items-center\"\n          >\n            <q-icon\n              size=\"xl\"\n              name=\"upload\"\n            />\n            <div class=\"heading-4\">Drop it like it's hot</div>\n          </div>\n        </div>\n        <div\n          class=\"fileContent\"\n          v-if=\"!isDragging\"\n        >\n          <div class=\"column align-center items-center\">\n            <q-icon\n              size=\"xl\"\n              name=\"upload\"\n            />\n            <span class=\"heading-4 q-my-md\">Drop file here</span>\n\n            <div class=\"text-uppercase text-muted row items-center\">\n              <div class=\"minus\" />\n              <span>or select file manually</span>\n              <div class=\"minus\" />\n            </div>\n            <q-btn\n              class=\"q-mt-md\"\n              label=\"Select file\"\n              icon=\"upload\"\n              color=\"primary\"\n            />\n          </div>\n        </div>\n      </template>\n    </q-file>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { useStore } from './../store'\nimport { useRouter } from 'vue-router'\n\nconst file = ref<File | null>(null)\nconst store = useStore()\nconst router = useRouter()\nconst isDragging = ref(false)\n\nfunction onFileUploaded(file: File) {\n  const reader = new FileReader()\n\n  reader.onload = async () => {\n    // console.log(reader.result)\n    console.log('loaded file')\n    await store.setStoreData(reader.result as string)\n    router.push('/file-scanned')\n  }\n  reader.readAsText(file)\n}\n\nfunction onDrop(event: DragEvent) {\n  if (event.dataTransfer?.files) {\n    const file = event.dataTransfer.files[0]\n    onFileUploaded(file)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.fileUpload) {\n  .q-field__control {\n    height: 400px;\n    width: 700px;\n\n    &:before {\n      border: 1px dashed #e4e4e7;\n      box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.05);\n    }\n  }\n}\n.dropArea {\n  z-index: 99;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n\n  &.isDragging {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n}\n.fileContent {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.minus {\n  width: 15px;\n  height: 2px;\n  background-color: $text-muted;\n  margin: 0 4px;\n}\n</style>\n"],"names":["file","ref","store","useStore","router","useRouter","isDragging","onFileUploaded","reader","onDrop","event","_a"],"mappings":"sgCA+DM,MAAAA,EAAOC,EAAiB,IAAI,EAC5BC,EAAQC,IACRC,EAASC,IACTC,EAAaL,EAAI,EAAK,EAE5B,SAASM,EAAeP,EAAY,CAC5B,MAAAQ,EAAS,IAAI,WAEnBA,EAAO,OAAS,SAAY,CAE1B,QAAQ,IAAI,aAAa,EACnB,MAAAN,EAAM,aAAaM,EAAO,MAAgB,EAChDJ,EAAO,KAAK,eAAe,CAAA,EAE7BI,EAAO,WAAWR,CAAI,CACxB,CAEA,SAASS,EAAOC,EAAkB,OAC5B,IAAAC,EAAAD,EAAM,eAAN,MAAAC,EAAoB,MAAO,CAC7B,MAAMX,EAAOU,EAAM,aAAa,MAAM,CAAC,EACvCH,EAAeP,CAAI,CACrB,CACF"}
import{q as S,t as k,r as x,c as s,K as A,w as y,x as E,y as a,z as o,L as F,M as G,A as N,N as B,O as P,P as T,R as W,S as O,T as M,U,C as V,V as q}from"./index-XZ6Lc5iv.js";import{D as n}from"./DashboardCard-jJ02-SaW.js";(function(){try{var d=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(d._sentryDebugIds=d._sentryDebugIds||{},d._sentryDebugIds[t]="f5ad9d19-0e82-484e-a769-ba9f21f2fc33",d._sentryDebugIdIdentifier="sentry-dbid-f5ad9d19-0e82-484e-a769-ba9f21f2fc33")}catch{}})();const z={class:"row dashboardView"},H={class:"row"},Q=S({__name:"DashboardGeneral",setup(d){const t=k(),c=x(["the"]),w=s(()=>t.authorsDataMessages),v=s(()=>t.messagesPerAuthor),_=s(()=>t.messagesContainingEmoji),$=s(()=>t.messagesContainginAttachments),b=s(()=>t.eventsData),p=s(()=>t.totalDays),D=s(()=>t.isGroupChat),I=s(()=>C());console.log(I),A(t.filterDate,()=>{C()},{immediate:!0});function C(){const f=s(()=>v.value.map(e=>e.messages.length).reduce((e,u)=>e+u,0)),g=s(()=>v.value.map(e=>({name:e.name,messages:e.messages.length})).sort((e,u)=>u.messages-e.messages)),m=s(()=>{var r;const e=(r=_.value.flatMap(l=>l.messages).flatMap(l=>l.emojis))==null?void 0:r.reduce(function(l,i){return l[i||""]?++l[i||""]:l[i||""]=1,l},{});return Object.entries(e||{}).sort((l,i)=>i[1]-l[1]).splice(0,4).map(([l,i])=>({emoji:l,count:i}))}),h=s(()=>g.value.map(e=>({name:e.name,messages:e.messages/p.value}))),j=s(()=>{var e,u,r;return[{title:"Total messages sent",value:f.value,icon:"message",subtitle:`Daily average ${(f.value/p.value).toFixed(2)} messages`,class:"",showValue:!!f.value},{title:"Most messages sent",value:h.value[0].name,subtitle:`Daily average ${h.value[0].messages.toFixed(2)} messages`,icon:"keyboard",class:"",showValue:!!h.value[0].messages},{title:"Most used emoji",value:((e=m.value[0])==null?void 0:e.emoji)||"No emoji used",subtitle:`Daily average ${(((u=m.value[0])==null?void 0:u.count)/p.value).toFixed(2)} times used`,icon:"mood",class:"isEmoji",showValue:!!((r=m.value[0])!=null&&r.count)}]});return t.setSummaryItems(j.value),{summaryItems:j}}return(f,g)=>(y(),E("div",z,[a(n,{title:"Messages per day"},{default:o(()=>[a(F,{data:v.value},null,8,["data"])]),_:1}),a(n,{title:"Filter how many times words are used",subtitle:"Fill in words to see how often they are used"},{default:o(()=>[a(G,{filled:"",modelValue:c.value,"onUpdate:modelValue":g[0]||(g[0]=m=>c.value=m),multiple:"","use-chips":"","hide-dropdown-icon":"","use-input":"","new-value-mode":"add",label:"Multiple selection"},null,8,["modelValue"]),N("div",H,[a(B,{class:"col-12",data:w.value,"filter-words":c.value},null,8,["data","filter-words"])])]),_:1}),a(n,{"is-small":"",title:"Emoji's used total"},{default:o(()=>[a(P,{data:_.value},null,8,["data"])]),_:1}),a(n,{"is-small":"",title:"Emoji's used per person"},{default:o(()=>[a(T,{data:_.value,class:"col-6"},null,8,["data"])]),_:1}),a(n,{"is-small":"",title:"Attachments sent"},{default:o(()=>[a(W,{data:$.value},null,8,["data"])]),_:1}),a(n,{"is-small":"",title:"Message length total"},{default:o(()=>[a(O,{data:w.value},null,8,["data"])]),_:1}),D.value?(y(),M(n,{key:0,"is-small":"",title:"Group events"},{default:o(()=>[a(U,{data:b.value},null,8,["data"])]),_:1})):V("",!0),D.value?(y(),M(n,{key:1,"is-small":"",title:"Group name changes"},{default:o(()=>[a(q,{data:b.value},null,8,["data"])]),_:1})):V("",!0)]))}});export{Q as default};
//# sourceMappingURL=DashboardGeneral-ufL3qubS.js.map

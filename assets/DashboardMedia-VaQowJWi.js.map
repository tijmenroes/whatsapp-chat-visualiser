{"version":3,"file":"DashboardMedia-VaQowJWi.js","sources":["../../src/views/dashboard/DashboardMedia.vue"],"sourcesContent":["<template>\r\n  <div class=\"row dashboardView\">\r\n    <DashboardCard\r\n      is-small\r\n      title=\"Attachments sent\"\r\n    >\r\n      <BarChart\r\n        :series=\"attachmentsAbsolute.series\"\r\n        :categories=\"attachmentsAbsolute.categories\"\r\n      />\r\n    </DashboardCard>\r\n\r\n    <DashboardCard\r\n      is-small\r\n      title=\"Percentage of messages with attachments\"\r\n    >\r\n      <!-- <AttachmentsChart\r\n        :data=\"attachmentMessages\"\r\n        show-relative\r\n      /> -->\r\n      <BarChart\r\n        :series=\"attachmentsRelative.series\"\r\n        :categories=\"attachmentsRelative.categories\"\r\n      />\r\n    </DashboardCard>\r\n\r\n    <DashboardCard title=\"Attachments sent over time\">\r\n      <TimeSlide :data=\"attachmentMessages\" />\r\n    </DashboardCard>\r\n\r\n    <DashboardCard\r\n      is-small\r\n      title=\"Stickers sent\"\r\n      v-if=\"showSticker\"\r\n    >\r\n      <BarChart\r\n        :series=\"attachmentsStickers.series\"\r\n        :categories=\"attachmentsStickers.categories\"\r\n      />\r\n    </DashboardCard>\r\n\r\n    <DashboardCard\r\n      is-small\r\n      title=\"Videos sent\"\r\n      v-if=\"showVideo\"\r\n    >\r\n      <BarChart\r\n        :series=\"attachmentsVideos.series\"\r\n        :categories=\"attachmentsVideos.categories\"\r\n      />\r\n    </DashboardCard>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport BarChart from '@/components/BarChart.vue'\r\nimport { useStore } from '@/store'\r\nimport TimeSlide from '@/components/TimeSlide.vue'\r\nimport DashboardCard from '@/components/dashboard/DashboardCard.vue'\r\nimport { useSummaryStore } from '@/store/summary'\r\nimport { SUMMARY_COLLECTION } from '@/config/summaryItems'\r\nimport useAttachmentSeries from '@/composables/useAttachmentSeries.ts'\r\n\r\nconst store = useStore()\r\nconst allMessages = computed(() => store.messagesPerAuthor)\r\nconst attachmentMessages = computed(() => store.messagesContainginAttachments)\r\nconst stickerMessages = computed(() => attachmentMessages.value?.map((author) => ({ ...author, messages: author.messages.filter((message) => message.message === '‎sticker weggelaten') })))\r\nconst videoMessages = computed(() => attachmentMessages.value?.map((author) => ({ ...author, messages: author.messages.filter((message) => message.message === '‎video weggelaten') })))\r\n\r\nconst showVideo = computed(() => attachmentMessages.value.some((author) => author.messages.some((message) => message.message === '‎video weggelaten')))\r\nconst showSticker = computed(() => attachmentMessages.value.some((author) => author.messages.some((message) => message.message === '‎sticker weggelaten')))\r\n\r\nconst summaryStore = useSummaryStore()\r\nsummaryStore.setSummaryState(SUMMARY_COLLECTION.media)\r\n\r\nconst attachmentsAbsolute = computed(() => useAttachmentSeries(attachmentMessages.value, false))\r\nconst attachmentsRelative = computed(() => useAttachmentSeries(allMessages.value, true))\r\nconst attachmentsStickers = computed(() => useAttachmentSeries(stickerMessages.value, false))\r\nconst attachmentsVideos = computed(() => useAttachmentSeries(videoMessages.value, false))\r\n</script>\r\n"],"names":["store","useStore","allMessages","computed","attachmentMessages","stickerMessages","_a","author","message","videoMessages","showVideo","showSticker","useSummaryStore","SUMMARY_COLLECTION","attachmentsAbsolute","useAttachmentSeries","attachmentsRelative","attachmentsStickers","attachmentsVideos"],"mappings":"2qBAgEA,MAAMA,EAAQC,IACRC,EAAcC,EAAS,IAAMH,EAAM,iBAAiB,EACpDI,EAAqBD,EAAS,IAAMH,EAAM,6BAA6B,EACvEK,EAAkBF,EAAS,IAAA,OAAM,OAAAG,EAAAF,EAAmB,QAAnB,YAAAE,EAA0B,IAAKC,IAAY,CAAE,GAAGA,EAAQ,SAAUA,EAAO,SAAS,OAAQC,GAAYA,EAAQ,UAAY,qBAAqB,KAAK,EACrLC,EAAgBN,EAAS,IAAA,OAAM,OAAAG,EAAAF,EAAmB,QAAnB,YAAAE,EAA0B,IAAKC,IAAY,CAAE,GAAGA,EAAQ,SAAUA,EAAO,SAAS,OAAQC,GAAYA,EAAQ,UAAY,mBAAmB,KAAK,EAEjLE,EAAYP,EAAS,IAAMC,EAAmB,MAAM,KAAMG,GAAWA,EAAO,SAAS,KAAMC,GAAYA,EAAQ,UAAY,mBAAmB,CAAC,CAAC,EAChJG,EAAcR,EAAS,IAAMC,EAAmB,MAAM,KAAMG,GAAWA,EAAO,SAAS,KAAMC,GAAYA,EAAQ,UAAY,qBAAqB,CAAC,CAAC,EAErII,IACR,gBAAgBC,EAAmB,KAAK,EAErD,MAAMC,EAAsBX,EAAS,IAAMY,EAAoBX,EAAmB,MAAO,EAAK,CAAC,EACzFY,EAAsBb,EAAS,IAAMY,EAAoBb,EAAY,MAAO,EAAI,CAAC,EACjFe,EAAsBd,EAAS,IAAMY,EAAoBV,EAAgB,MAAO,EAAK,CAAC,EACtFa,EAAoBf,EAAS,IAAMY,EAAoBN,EAAc,MAAO,EAAK,CAAC"}
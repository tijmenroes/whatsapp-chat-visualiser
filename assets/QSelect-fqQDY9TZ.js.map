{"version":3,"file":"QSelect-fqQDY9TZ.js","sources":["../../node_modules/quasar/src/components/field/QField.js","../../node_modules/quasar/src/components/virtual-scroll/use-virtual-scroll.js","../../node_modules/quasar/src/components/select/QSelect.js"],"sourcesContent":["import useField, { useFieldState, useFieldProps, useFieldEmits } from '../../composables/private/use-field.js'\n\nimport { createComponent } from '../../utils/private/create.js'\n\nexport default createComponent({\n  name: 'QField',\n\n  inheritAttrs: false,\n\n  props: {\n    ...useFieldProps,\n\n    tag: {\n      type: String,\n      default: 'label'\n    }\n  },\n\n  emits: useFieldEmits,\n\n  setup () {\n    return useField(\n      useFieldState({\n        requiredForAttr: false,\n        tagProp: true\n      })\n    )\n  }\n})\n","import { h, ref, computed, watch, onActivated, onDeactivated, onBeforeMount, onBeforeUnmount, nextTick, getCurrentInstance } from 'vue'\n\nimport debounce from '../../utils/debounce.js'\nimport { noop } from '../../utils/event.js'\nimport { rtlHasScrollBug } from '../../utils/private/rtl.js'\n\nconst aggBucketSize = 1000\n\nconst scrollToEdges = [\n  'start',\n  'center',\n  'end',\n  'start-force',\n  'center-force',\n  'end-force'\n]\n\nconst filterProto = Array.prototype.filter\n\nconst setOverflowAnchor = __QUASAR_SSR__ || window.getComputedStyle(document.body).overflowAnchor === void 0\n  ? noop\n  : function (contentEl, index) {\n    if (contentEl === null) {\n      return\n    }\n\n    if (contentEl._qOverflowAnimationFrame !== void 0) {\n      cancelAnimationFrame(contentEl._qOverflowAnimationFrame)\n    }\n\n    contentEl._qOverflowAnimationFrame = requestAnimationFrame(() => {\n      if (contentEl === null) {\n        return\n      }\n\n      contentEl._qOverflowAnimationFrame = void 0\n      const children = contentEl.children || []\n\n      filterProto\n        .call(children, el => el.dataset && el.dataset.qVsAnchor !== void 0)\n        .forEach(el => {\n          delete el.dataset.qVsAnchor\n        })\n\n      const el = children[ index ]\n\n      if (el && el.dataset) {\n        el.dataset.qVsAnchor = ''\n      }\n    })\n  }\n\nfunction sumFn (acc, h) {\n  return acc + h\n}\n\nfunction getScrollDetails (\n  parent,\n  child,\n  beforeRef,\n  afterRef,\n  horizontal,\n  rtl,\n  stickyStart,\n  stickyEnd\n) {\n  const\n    parentCalc = parent === window ? document.scrollingElement || document.documentElement : parent,\n    propElSize = horizontal === true ? 'offsetWidth' : 'offsetHeight',\n    details = {\n      scrollStart: 0,\n      scrollViewSize: -stickyStart - stickyEnd,\n      scrollMaxSize: 0,\n      offsetStart: -stickyStart,\n      offsetEnd: -stickyEnd\n    }\n\n  if (horizontal === true) {\n    if (parent === window) {\n      details.scrollStart = window.pageXOffset || window.scrollX || document.body.scrollLeft || 0\n      details.scrollViewSize += document.documentElement.clientWidth\n    }\n    else {\n      details.scrollStart = parentCalc.scrollLeft\n      details.scrollViewSize += parentCalc.clientWidth\n    }\n    details.scrollMaxSize = parentCalc.scrollWidth\n\n    if (rtl === true) {\n      details.scrollStart = (rtlHasScrollBug === true ? details.scrollMaxSize - details.scrollViewSize : 0) - details.scrollStart\n    }\n  }\n  else {\n    if (parent === window) {\n      details.scrollStart = window.pageYOffset || window.scrollY || document.body.scrollTop || 0\n      details.scrollViewSize += document.documentElement.clientHeight\n    }\n    else {\n      details.scrollStart = parentCalc.scrollTop\n      details.scrollViewSize += parentCalc.clientHeight\n    }\n    details.scrollMaxSize = parentCalc.scrollHeight\n  }\n\n  if (beforeRef !== null) {\n    for (let el = beforeRef.previousElementSibling; el !== null; el = el.previousElementSibling) {\n      if (el.classList.contains('q-virtual-scroll--skip') === false) {\n        details.offsetStart += el[ propElSize ]\n      }\n    }\n  }\n\n  if (afterRef !== null) {\n    for (let el = afterRef.nextElementSibling; el !== null; el = el.nextElementSibling) {\n      if (el.classList.contains('q-virtual-scroll--skip') === false) {\n        details.offsetEnd += el[ propElSize ]\n      }\n    }\n  }\n\n  if (child !== parent) {\n    const\n      parentRect = parentCalc.getBoundingClientRect(),\n      childRect = child.getBoundingClientRect()\n\n    if (horizontal === true) {\n      details.offsetStart += childRect.left - parentRect.left\n      details.offsetEnd -= childRect.width\n    }\n    else {\n      details.offsetStart += childRect.top - parentRect.top\n      details.offsetEnd -= childRect.height\n    }\n\n    if (parent !== window) {\n      details.offsetStart += details.scrollStart\n    }\n    details.offsetEnd += details.scrollMaxSize - details.offsetStart\n  }\n\n  return details\n}\n\nfunction setScroll (parent, scroll, horizontal, rtl) {\n  if (scroll === 'end') {\n    scroll = (parent === window ? document.body : parent)[\n      horizontal === true ? 'scrollWidth' : 'scrollHeight'\n    ]\n  }\n\n  if (parent === window) {\n    if (horizontal === true) {\n      if (rtl === true) {\n        scroll = (rtlHasScrollBug === true ? document.body.scrollWidth - document.documentElement.clientWidth : 0) - scroll\n      }\n      window.scrollTo(scroll, window.pageYOffset || window.scrollY || document.body.scrollTop || 0)\n    }\n    else {\n      window.scrollTo(window.pageXOffset || window.scrollX || document.body.scrollLeft || 0, scroll)\n    }\n  }\n  else if (horizontal === true) {\n    if (rtl === true) {\n      scroll = (rtlHasScrollBug === true ? parent.scrollWidth - parent.offsetWidth : 0) - scroll\n    }\n    parent.scrollLeft = scroll\n  }\n  else {\n    parent.scrollTop = scroll\n  }\n}\n\nfunction sumSize (sizeAgg, size, from, to) {\n  if (from >= to) { return 0 }\n\n  const\n    lastTo = size.length,\n    fromAgg = Math.floor(from / aggBucketSize),\n    toAgg = Math.floor((to - 1) / aggBucketSize) + 1\n\n  let total = sizeAgg.slice(fromAgg, toAgg).reduce(sumFn, 0)\n\n  if (from % aggBucketSize !== 0) {\n    total -= size.slice(fromAgg * aggBucketSize, from).reduce(sumFn, 0)\n  }\n  if (to % aggBucketSize !== 0 && to !== lastTo) {\n    total -= size.slice(to, toAgg * aggBucketSize).reduce(sumFn, 0)\n  }\n\n  return total\n}\n\nconst commonVirtScrollProps = {\n  virtualScrollSliceSize: {\n    type: [ Number, String ],\n    default: null\n  },\n\n  virtualScrollSliceRatioBefore: {\n    type: [ Number, String ],\n    default: 1\n  },\n\n  virtualScrollSliceRatioAfter: {\n    type: [ Number, String ],\n    default: 1\n  },\n\n  virtualScrollItemSize: {\n    type: [ Number, String ],\n    default: 24\n  },\n\n  virtualScrollStickySizeStart: {\n    type: [ Number, String ],\n    default: 0\n  },\n\n  virtualScrollStickySizeEnd: {\n    type: [ Number, String ],\n    default: 0\n  },\n\n  tableColspan: [ Number, String ]\n}\n\nexport const commonVirtPropsList = Object.keys(commonVirtScrollProps)\n\nexport const useVirtualScrollProps = {\n  virtualScrollHorizontal: Boolean,\n  onVirtualScroll: Function,\n  ...commonVirtScrollProps\n}\n\nexport function useVirtualScroll ({\n  virtualScrollLength, getVirtualScrollTarget, getVirtualScrollEl,\n  virtualScrollItemSizeComputed // optional\n}) {\n  const vm = getCurrentInstance()\n\n  const { props, emit, proxy } = vm\n  const { $q } = proxy\n\n  let prevScrollStart, prevToIndex, localScrollViewSize, virtualScrollSizesAgg = [], virtualScrollSizes\n\n  const virtualScrollPaddingBefore = ref(0)\n  const virtualScrollPaddingAfter = ref(0)\n  const virtualScrollSliceSizeComputed = ref({})\n\n  const beforeRef = ref(null)\n  const afterRef = ref(null)\n  const contentRef = ref(null)\n\n  const virtualScrollSliceRange = ref({ from: 0, to: 0 })\n\n  const colspanAttr = computed(() => (props.tableColspan !== void 0 ? props.tableColspan : 100))\n\n  if (virtualScrollItemSizeComputed === void 0) {\n    virtualScrollItemSizeComputed = computed(() => props.virtualScrollItemSize)\n  }\n\n  const needsReset = computed(() => virtualScrollItemSizeComputed.value + ';' + props.virtualScrollHorizontal)\n\n  const needsSliceRecalc = computed(() =>\n    needsReset.value + ';' + props.virtualScrollSliceRatioBefore + ';' + props.virtualScrollSliceRatioAfter\n  )\n\n  watch(needsSliceRecalc, () => { setVirtualScrollSize() })\n  watch(needsReset, reset)\n\n  function reset () {\n    localResetVirtualScroll(prevToIndex, true)\n  }\n\n  function refresh (toIndex) {\n    localResetVirtualScroll(toIndex === void 0 ? prevToIndex : toIndex)\n  }\n\n  function scrollTo (toIndex, edge) {\n    const scrollEl = getVirtualScrollTarget()\n\n    if (scrollEl === void 0 || scrollEl === null || scrollEl.nodeType === 8) {\n      return\n    }\n\n    const scrollDetails = getScrollDetails(\n      scrollEl,\n      getVirtualScrollEl(),\n      beforeRef.value,\n      afterRef.value,\n      props.virtualScrollHorizontal,\n      $q.lang.rtl,\n      props.virtualScrollStickySizeStart,\n      props.virtualScrollStickySizeEnd\n    )\n\n    localScrollViewSize !== scrollDetails.scrollViewSize && setVirtualScrollSize(scrollDetails.scrollViewSize)\n\n    setVirtualScrollSliceRange(\n      scrollEl,\n      scrollDetails,\n      Math.min(virtualScrollLength.value - 1, Math.max(0, parseInt(toIndex, 10) || 0)),\n      0,\n      scrollToEdges.indexOf(edge) > -1 ? edge : (prevToIndex > -1 && toIndex > prevToIndex ? 'end' : 'start')\n    )\n  }\n\n  function localOnVirtualScrollEvt () {\n    const scrollEl = getVirtualScrollTarget()\n\n    if (scrollEl === void 0 || scrollEl === null || scrollEl.nodeType === 8) {\n      return\n    }\n\n    const\n      scrollDetails = getScrollDetails(\n        scrollEl,\n        getVirtualScrollEl(),\n        beforeRef.value,\n        afterRef.value,\n        props.virtualScrollHorizontal,\n        $q.lang.rtl,\n        props.virtualScrollStickySizeStart,\n        props.virtualScrollStickySizeEnd\n      ),\n      listLastIndex = virtualScrollLength.value - 1,\n      listEndOffset = scrollDetails.scrollMaxSize - scrollDetails.offsetStart - scrollDetails.offsetEnd - virtualScrollPaddingAfter.value\n\n    if (prevScrollStart === scrollDetails.scrollStart) {\n      return\n    }\n\n    if (scrollDetails.scrollMaxSize <= 0) {\n      setVirtualScrollSliceRange(scrollEl, scrollDetails, 0, 0)\n      return\n    }\n\n    localScrollViewSize !== scrollDetails.scrollViewSize && setVirtualScrollSize(scrollDetails.scrollViewSize)\n\n    updateVirtualScrollSizes(virtualScrollSliceRange.value.from)\n\n    const scrollMaxStart = Math.floor(scrollDetails.scrollMaxSize\n      - Math.max(scrollDetails.scrollViewSize, scrollDetails.offsetEnd)\n      - Math.min(virtualScrollSizes[ listLastIndex ], scrollDetails.scrollViewSize / 2))\n\n    if (scrollMaxStart > 0 && Math.ceil(scrollDetails.scrollStart) >= scrollMaxStart) {\n      setVirtualScrollSliceRange(\n        scrollEl,\n        scrollDetails,\n        listLastIndex,\n        scrollDetails.scrollMaxSize - scrollDetails.offsetEnd - virtualScrollSizesAgg.reduce(sumFn, 0)\n      )\n\n      return\n    }\n\n    let\n      toIndex = 0,\n      listOffset = scrollDetails.scrollStart - scrollDetails.offsetStart,\n      offset = listOffset\n\n    if (listOffset <= listEndOffset && listOffset + scrollDetails.scrollViewSize >= virtualScrollPaddingBefore.value) {\n      listOffset -= virtualScrollPaddingBefore.value\n      toIndex = virtualScrollSliceRange.value.from\n      offset = listOffset\n    }\n    else {\n      for (let j = 0; listOffset >= virtualScrollSizesAgg[ j ] && toIndex < listLastIndex; j++) {\n        listOffset -= virtualScrollSizesAgg[ j ]\n        toIndex += aggBucketSize\n      }\n    }\n\n    while (listOffset > 0 && toIndex < listLastIndex) {\n      listOffset -= virtualScrollSizes[ toIndex ]\n      if (listOffset > -scrollDetails.scrollViewSize) {\n        toIndex++\n        offset = listOffset\n      }\n      else {\n        offset = virtualScrollSizes[ toIndex ] + listOffset\n      }\n    }\n\n    setVirtualScrollSliceRange(\n      scrollEl,\n      scrollDetails,\n      toIndex,\n      offset\n    )\n  }\n\n  function setVirtualScrollSliceRange (scrollEl, scrollDetails, toIndex, offset, align) {\n    const alignForce = typeof align === 'string' && align.indexOf('-force') > -1\n    const alignEnd = alignForce === true ? align.replace('-force', '') : align\n    const alignRange = alignEnd !== void 0 ? alignEnd : 'start'\n\n    let\n      from = Math.max(0, toIndex - virtualScrollSliceSizeComputed.value[ alignRange ]),\n      to = from + virtualScrollSliceSizeComputed.value.total\n\n    if (to > virtualScrollLength.value) {\n      to = virtualScrollLength.value\n      from = Math.max(0, to - virtualScrollSliceSizeComputed.value.total)\n    }\n\n    prevScrollStart = scrollDetails.scrollStart\n\n    const rangeChanged = from !== virtualScrollSliceRange.value.from || to !== virtualScrollSliceRange.value.to\n\n    if (rangeChanged === false && alignEnd === void 0) {\n      emitScroll(toIndex)\n      return\n    }\n\n    const { activeElement } = document\n    const contentEl = contentRef.value\n    if (\n      rangeChanged === true\n      && contentEl !== null\n      && contentEl !== activeElement\n      && contentEl.contains(activeElement) === true\n    ) {\n      contentEl.addEventListener('focusout', onBlurRefocusFn)\n\n      setTimeout(() => {\n        contentEl !== null && contentEl.removeEventListener('focusout', onBlurRefocusFn)\n      })\n    }\n\n    setOverflowAnchor(contentEl, toIndex - from)\n\n    const sizeBefore = alignEnd !== void 0 ? virtualScrollSizes.slice(from, toIndex).reduce(sumFn, 0) : 0\n\n    if (rangeChanged === true) {\n      // vue key matching algorithm works only if\n      // the array of VNodes changes on only one of the ends\n      // so we first change one end and then the other\n\n      const tempTo = to >= virtualScrollSliceRange.value.from && from <= virtualScrollSliceRange.value.to\n        ? virtualScrollSliceRange.value.to\n        : to\n\n      virtualScrollSliceRange.value = { from, to: tempTo }\n      virtualScrollPaddingBefore.value = sumSize(virtualScrollSizesAgg, virtualScrollSizes, 0, from)\n      virtualScrollPaddingAfter.value = sumSize(virtualScrollSizesAgg, virtualScrollSizes, to, virtualScrollLength.value)\n\n      requestAnimationFrame(() => {\n        if (virtualScrollSliceRange.value.to !== to && prevScrollStart === scrollDetails.scrollStart) {\n          virtualScrollSliceRange.value = { from: virtualScrollSliceRange.value.from, to }\n          virtualScrollPaddingAfter.value = sumSize(virtualScrollSizesAgg, virtualScrollSizes, to, virtualScrollLength.value)\n        }\n      })\n    }\n\n    requestAnimationFrame(() => {\n      // if the scroll was changed give up\n      // (another call to setVirtualScrollSliceRange before animation frame)\n      if (prevScrollStart !== scrollDetails.scrollStart) {\n        return\n      }\n\n      if (rangeChanged === true) {\n        updateVirtualScrollSizes(from)\n      }\n\n      const\n        sizeAfter = virtualScrollSizes.slice(from, toIndex).reduce(sumFn, 0),\n        posStart = sizeAfter + scrollDetails.offsetStart + virtualScrollPaddingBefore.value,\n        posEnd = posStart + virtualScrollSizes[ toIndex ]\n\n      let scrollPosition = posStart + offset\n\n      if (alignEnd !== void 0) {\n        const sizeDiff = sizeAfter - sizeBefore\n        const scrollStart = scrollDetails.scrollStart + sizeDiff\n\n        scrollPosition = alignForce !== true && scrollStart < posStart && posEnd < scrollStart + scrollDetails.scrollViewSize\n          ? scrollStart\n          : (\n              alignEnd === 'end'\n                ? posEnd - scrollDetails.scrollViewSize\n                : posStart - (alignEnd === 'start' ? 0 : Math.round((scrollDetails.scrollViewSize - virtualScrollSizes[ toIndex ]) / 2))\n            )\n      }\n\n      prevScrollStart = scrollPosition\n\n      setScroll(\n        scrollEl,\n        scrollPosition,\n        props.virtualScrollHorizontal,\n        $q.lang.rtl\n      )\n\n      emitScroll(toIndex)\n    })\n  }\n\n  function updateVirtualScrollSizes (from) {\n    const contentEl = contentRef.value\n\n    if (contentEl) {\n      const\n        children = filterProto.call(\n          contentEl.children,\n          el => el.classList && el.classList.contains('q-virtual-scroll--skip') === false\n        ),\n        childrenLength = children.length,\n        sizeFn = props.virtualScrollHorizontal === true\n          ? el => el.getBoundingClientRect().width\n          : el => el.offsetHeight\n\n      let\n        index = from,\n        size, diff\n\n      for (let i = 0; i < childrenLength;) {\n        size = sizeFn(children[ i ])\n        i++\n\n        while (i < childrenLength && children[ i ].classList.contains('q-virtual-scroll--with-prev') === true) {\n          size += sizeFn(children[ i ])\n          i++\n        }\n\n        diff = size - virtualScrollSizes[ index ]\n\n        if (diff !== 0) {\n          virtualScrollSizes[ index ] += diff\n          virtualScrollSizesAgg[ Math.floor(index / aggBucketSize) ] += diff\n        }\n\n        index++\n      }\n    }\n  }\n\n  function onBlurRefocusFn () {\n    contentRef.value !== null && contentRef.value !== void 0 && contentRef.value.focus()\n  }\n\n  function localResetVirtualScroll (toIndex, fullReset) {\n    const defaultSize = 1 * virtualScrollItemSizeComputed.value\n\n    if (fullReset === true || Array.isArray(virtualScrollSizes) === false) {\n      virtualScrollSizes = []\n    }\n\n    const oldVirtualScrollSizesLength = virtualScrollSizes.length\n\n    virtualScrollSizes.length = virtualScrollLength.value\n\n    for (let i = virtualScrollLength.value - 1; i >= oldVirtualScrollSizesLength; i--) {\n      virtualScrollSizes[ i ] = defaultSize\n    }\n\n    const jMax = Math.floor((virtualScrollLength.value - 1) / aggBucketSize)\n    virtualScrollSizesAgg = []\n    for (let j = 0; j <= jMax; j++) {\n      let size = 0\n      const iMax = Math.min((j + 1) * aggBucketSize, virtualScrollLength.value)\n      for (let i = j * aggBucketSize; i < iMax; i++) {\n        size += virtualScrollSizes[ i ]\n      }\n      virtualScrollSizesAgg.push(size)\n    }\n\n    prevToIndex = -1\n    prevScrollStart = void 0\n\n    virtualScrollPaddingBefore.value = sumSize(virtualScrollSizesAgg, virtualScrollSizes, 0, virtualScrollSliceRange.value.from)\n    virtualScrollPaddingAfter.value = sumSize(virtualScrollSizesAgg, virtualScrollSizes, virtualScrollSliceRange.value.to, virtualScrollLength.value)\n\n    if (toIndex >= 0) {\n      updateVirtualScrollSizes(virtualScrollSliceRange.value.from)\n      nextTick(() => { scrollTo(toIndex) })\n    }\n    else {\n      onVirtualScrollEvt()\n    }\n  }\n\n  function setVirtualScrollSize (scrollViewSize) {\n    if (scrollViewSize === void 0 && typeof window !== 'undefined') {\n      const scrollEl = getVirtualScrollTarget()\n\n      if (scrollEl !== void 0 && scrollEl !== null && scrollEl.nodeType !== 8) {\n        scrollViewSize = getScrollDetails(\n          scrollEl,\n          getVirtualScrollEl(),\n          beforeRef.value,\n          afterRef.value,\n          props.virtualScrollHorizontal,\n          $q.lang.rtl,\n          props.virtualScrollStickySizeStart,\n          props.virtualScrollStickySizeEnd\n        ).scrollViewSize\n      }\n    }\n\n    localScrollViewSize = scrollViewSize\n\n    const virtualScrollSliceRatioBefore = parseFloat(props.virtualScrollSliceRatioBefore) || 0\n    const virtualScrollSliceRatioAfter = parseFloat(props.virtualScrollSliceRatioAfter) || 0\n    const multiplier = 1 + virtualScrollSliceRatioBefore + virtualScrollSliceRatioAfter\n    const view = scrollViewSize === void 0 || scrollViewSize <= 0\n      ? 1\n      : Math.ceil(scrollViewSize / virtualScrollItemSizeComputed.value)\n\n    const baseSize = Math.max(\n      1,\n      view,\n      Math.ceil((props.virtualScrollSliceSize > 0 ? props.virtualScrollSliceSize : 10) / multiplier)\n    )\n\n    virtualScrollSliceSizeComputed.value = {\n      total: Math.ceil(baseSize * multiplier),\n      start: Math.ceil(baseSize * virtualScrollSliceRatioBefore),\n      center: Math.ceil(baseSize * (0.5 + virtualScrollSliceRatioBefore)),\n      end: Math.ceil(baseSize * (1 + virtualScrollSliceRatioBefore)),\n      view\n    }\n  }\n\n  function padVirtualScroll (tag, content) {\n    const paddingSize = props.virtualScrollHorizontal === true ? 'width' : 'height'\n    const style = {\n      [ '--q-virtual-scroll-item-' + paddingSize ]: virtualScrollItemSizeComputed.value + 'px'\n    }\n\n    return [\n      tag === 'tbody'\n        ? h(tag, {\n          class: 'q-virtual-scroll__padding',\n          key: 'before',\n          ref: beforeRef\n        }, [\n          h('tr', [\n            h('td', {\n              style: { [ paddingSize ]: `${ virtualScrollPaddingBefore.value }px`, ...style },\n              colspan: colspanAttr.value\n            })\n          ])\n        ])\n        : h(tag, {\n          class: 'q-virtual-scroll__padding',\n          key: 'before',\n          ref: beforeRef,\n          style: { [ paddingSize ]: `${ virtualScrollPaddingBefore.value }px`, ...style }\n        }),\n\n      h(tag, {\n        class: 'q-virtual-scroll__content',\n        key: 'content',\n        ref: contentRef,\n        tabindex: -1\n      }, content.flat()),\n\n      tag === 'tbody'\n        ? h(tag, {\n          class: 'q-virtual-scroll__padding',\n          key: 'after',\n          ref: afterRef\n        }, [\n          h('tr', [\n            h('td', {\n              style: { [ paddingSize ]: `${ virtualScrollPaddingAfter.value }px`, ...style },\n              colspan: colspanAttr.value\n            })\n          ])\n        ])\n        : h(tag, {\n          class: 'q-virtual-scroll__padding',\n          key: 'after',\n          ref: afterRef,\n          style: { [ paddingSize ]: `${ virtualScrollPaddingAfter.value }px`, ...style }\n        })\n    ]\n  }\n\n  function emitScroll (index) {\n    if (prevToIndex !== index) {\n      props.onVirtualScroll !== void 0 && emit('virtualScroll', {\n        index,\n        from: virtualScrollSliceRange.value.from,\n        to: virtualScrollSliceRange.value.to - 1,\n        direction: index < prevToIndex ? 'decrease' : 'increase',\n        ref: proxy\n      })\n\n      prevToIndex = index\n    }\n  }\n\n  setVirtualScrollSize()\n  const onVirtualScrollEvt = debounce(\n    localOnVirtualScrollEvt,\n    $q.platform.is.ios === true ? 120 : 35\n  )\n\n  onBeforeMount(() => {\n    setVirtualScrollSize()\n  })\n\n  let shouldActivate = false\n\n  onDeactivated(() => {\n    shouldActivate = true\n  })\n\n  onActivated(() => {\n    if (shouldActivate !== true) { return }\n\n    const scrollEl = getVirtualScrollTarget()\n\n    if (prevScrollStart !== void 0 && scrollEl !== void 0 && scrollEl !== null && scrollEl.nodeType !== 8) {\n      setScroll(\n        scrollEl,\n        prevScrollStart,\n        props.virtualScrollHorizontal,\n        $q.lang.rtl\n      )\n    }\n    else {\n      scrollTo(prevToIndex)\n    }\n  })\n\n  __QUASAR_SSR__ || onBeforeUnmount(() => {\n    onVirtualScrollEvt.cancel()\n  })\n\n  // expose public methods\n  Object.assign(proxy, { scrollTo, reset, refresh })\n\n  return {\n    virtualScrollSliceRange,\n    virtualScrollSliceSizeComputed,\n\n    setVirtualScrollSize,\n    onVirtualScrollEvt,\n    localResetVirtualScroll,\n    padVirtualScroll,\n\n    scrollTo,\n    reset,\n    refresh\n  }\n}\n","import { h, ref, computed, watch, onBeforeUpdate, onUpdated, onBeforeUnmount, nextTick, getCurrentInstance } from 'vue'\n\nimport QField from '../field/QField.js'\nimport QIcon from '../icon/QIcon.js'\nimport QChip from '../chip/QChip.js'\n\nimport QItem from '../item/QItem.js'\nimport QItemSection from '../item/QItemSection.js'\nimport QItemLabel from '../item/QItemLabel.js'\n\nimport QMenu from '../menu/QMenu.js'\nimport QDialog from '../dialog/QDialog.js'\n\nimport useField, { useFieldState, useFieldProps, useFieldEmits, fieldValueIsFilled } from '../../composables/private/use-field.js'\nimport { useVirtualScroll, useVirtualScrollProps } from '../virtual-scroll/use-virtual-scroll.js'\nimport { useFormProps, useFormInputNameAttr } from '../../composables/private/use-form.js'\nimport useKeyComposition from '../../composables/private/use-key-composition.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { isDeepEqual } from '../../utils/is.js'\nimport { stop, prevent, stopAndPrevent } from '../../utils/event.js'\nimport { normalizeToInterval } from '../../utils/format.js'\nimport { shouldIgnoreKey, isKeyCode } from '../../utils/private/key-composition.js'\nimport { hMergeSlot } from '../../utils/private/render.js'\n\nconst validateNewValueMode = v => [ 'add', 'add-unique', 'toggle' ].includes(v)\nconst reEscapeList = '.*+?^${}()|[]\\\\'\nconst fieldPropsList = Object.keys(useFieldProps)\n\nexport default createComponent({\n  name: 'QSelect',\n\n  inheritAttrs: false,\n\n  props: {\n    ...useVirtualScrollProps,\n    ...useFormProps,\n    ...useFieldProps,\n\n    modelValue: {\n      required: true\n    },\n\n    multiple: Boolean,\n\n    displayValue: [ String, Number ],\n    displayValueHtml: Boolean,\n    dropdownIcon: String,\n\n    options: {\n      type: Array,\n      default: () => []\n    },\n\n    optionValue: [ Function, String ],\n    optionLabel: [ Function, String ],\n    optionDisable: [ Function, String ],\n\n    hideSelected: Boolean,\n    hideDropdownIcon: Boolean,\n    fillInput: Boolean,\n\n    maxValues: [ Number, String ],\n\n    optionsDense: Boolean,\n    optionsDark: {\n      type: Boolean,\n      default: null\n    },\n    optionsSelectedClass: String,\n    optionsHtml: Boolean,\n\n    optionsCover: Boolean,\n\n    menuShrink: Boolean,\n    menuAnchor: String,\n    menuSelf: String,\n    menuOffset: Array,\n\n    popupContentClass: String,\n    popupContentStyle: [ String, Array, Object ],\n\n    useInput: Boolean,\n    useChips: Boolean,\n\n    newValueMode: {\n      type: String,\n      validator: validateNewValueMode\n    },\n\n    mapOptions: Boolean,\n    emitValue: Boolean,\n\n    inputDebounce: {\n      type: [ Number, String ],\n      default: 500\n    },\n\n    inputClass: [ Array, String, Object ],\n    inputStyle: [ Array, String, Object ],\n\n    tabindex: {\n      type: [ String, Number ],\n      default: 0\n    },\n\n    autocomplete: String,\n\n    transitionShow: String,\n    transitionHide: String,\n    transitionDuration: [ String, Number ],\n\n    behavior: {\n      type: String,\n      validator: v => [ 'default', 'menu', 'dialog' ].includes(v),\n      default: 'default'\n    },\n\n    virtualScrollItemSize: {\n      type: [ Number, String ],\n      default: void 0\n    },\n\n    onNewValue: Function,\n    onFilter: Function\n  },\n\n  emits: [\n    ...useFieldEmits,\n    'add', 'remove', 'inputValue', 'newValue',\n    'keyup', 'keypress', 'keydown',\n    'filterAbort'\n  ],\n\n  setup (props, { slots, emit }) {\n    const { proxy } = getCurrentInstance()\n    const { $q } = proxy\n\n    const menu = ref(false)\n    const dialog = ref(false)\n    const optionIndex = ref(-1)\n    const inputValue = ref('')\n    const dialogFieldFocused = ref(false)\n    const innerLoadingIndicator = ref(false)\n\n    let filterTimer = null, inputValueTimer = null,\n      innerValueCache,\n      hasDialog, userInputValue, filterId = null, defaultInputValue,\n      transitionShowComputed, searchBuffer, searchBufferExp\n\n    const inputRef = ref(null)\n    const targetRef = ref(null)\n    const menuRef = ref(null)\n    const dialogRef = ref(null)\n    const menuContentRef = ref(null)\n\n    const nameProp = useFormInputNameAttr(props)\n\n    const onComposition = useKeyComposition(onInput)\n\n    const virtualScrollLength = computed(() => (\n      Array.isArray(props.options)\n        ? props.options.length\n        : 0\n    ))\n\n    const virtualScrollItemSizeComputed = computed(() => (\n      props.virtualScrollItemSize === void 0\n        ? (props.optionsDense === true ? 24 : 48)\n        : props.virtualScrollItemSize\n    ))\n\n    const {\n      virtualScrollSliceRange,\n      virtualScrollSliceSizeComputed,\n      localResetVirtualScroll,\n      padVirtualScroll,\n      onVirtualScrollEvt,\n      scrollTo,\n      setVirtualScrollSize\n    } = useVirtualScroll({\n      virtualScrollLength, getVirtualScrollTarget, getVirtualScrollEl,\n      virtualScrollItemSizeComputed\n    })\n\n    const state = useFieldState()\n\n    const innerValue = computed(() => {\n      const\n        mapNull = props.mapOptions === true && props.multiple !== true,\n        val = props.modelValue !== void 0 && (props.modelValue !== null || mapNull === true)\n          ? (props.multiple === true && Array.isArray(props.modelValue) ? props.modelValue : [ props.modelValue ])\n          : []\n\n      if (props.mapOptions === true && Array.isArray(props.options) === true) {\n        const cache = props.mapOptions === true && innerValueCache !== void 0\n          ? innerValueCache\n          : []\n        const values = val.map(v => getOption(v, cache))\n\n        return props.modelValue === null && mapNull === true\n          ? values.filter(v => v !== null)\n          : values\n      }\n\n      return val\n    })\n\n    const innerFieldProps = computed(() => {\n      const acc = {}\n      fieldPropsList.forEach(key => {\n        const val = props[ key ]\n        if (val !== void 0) {\n          acc[ key ] = val\n        }\n      })\n      return acc\n    })\n\n    const isOptionsDark = computed(() => (\n      props.optionsDark === null\n        ? state.isDark.value\n        : props.optionsDark\n    ))\n\n    const hasValue = computed(() => fieldValueIsFilled(innerValue.value))\n\n    const computedInputClass = computed(() => {\n      let cls = 'q-field__input q-placeholder col'\n\n      if (props.hideSelected === true || innerValue.value.length === 0) {\n        return [ cls, props.inputClass ]\n      }\n\n      cls += ' q-field__input--padding'\n\n      return props.inputClass === void 0\n        ? cls\n        : [ cls, props.inputClass ]\n    })\n\n    const menuContentClass = computed(() =>\n      (props.virtualScrollHorizontal === true ? 'q-virtual-scroll--horizontal' : '')\n      + (props.popupContentClass ? ' ' + props.popupContentClass : '')\n    )\n\n    const noOptions = computed(() => virtualScrollLength.value === 0)\n\n    const selectedString = computed(() =>\n      innerValue.value\n        .map(opt => getOptionLabel.value(opt))\n        .join(', ')\n    )\n\n    const ariaCurrentValue = computed(() => (props.displayValue !== void 0\n      ? props.displayValue\n      : selectedString.value\n    ))\n\n    const needsHtmlFn = computed(() => (\n      props.optionsHtml === true\n        ? () => true\n        : opt => opt !== void 0 && opt !== null && opt.html === true\n    ))\n\n    const valueAsHtml = computed(() => (\n      props.displayValueHtml === true || (\n        props.displayValue === void 0 && (\n          props.optionsHtml === true\n          || innerValue.value.some(needsHtmlFn.value)\n        )\n      )\n    ))\n\n    const tabindex = computed(() => (state.focused.value === true ? props.tabindex : -1))\n\n    const comboboxAttrs = computed(() => {\n      const attrs = {\n        tabindex: props.tabindex,\n        role: 'combobox',\n        'aria-label': props.label,\n        'aria-readonly': props.readonly === true ? 'true' : 'false',\n        'aria-autocomplete': props.useInput === true ? 'list' : 'none',\n        'aria-expanded': menu.value === true ? 'true' : 'false',\n        'aria-controls': `${ state.targetUid.value }_lb`\n      }\n\n      if (optionIndex.value >= 0) {\n        attrs[ 'aria-activedescendant' ] = `${ state.targetUid.value }_${ optionIndex.value }`\n      }\n\n      return attrs\n    })\n\n    const listboxAttrs = computed(() => ({\n      id: `${ state.targetUid.value }_lb`,\n      role: 'listbox',\n      'aria-multiselectable': props.multiple === true ? 'true' : 'false'\n    }))\n\n    const selectedScope = computed(() => {\n      return innerValue.value.map((opt, i) => ({\n        index: i,\n        opt,\n        html: needsHtmlFn.value(opt),\n        selected: true,\n        removeAtIndex: removeAtIndexAndFocus,\n        toggleOption,\n        tabindex: tabindex.value\n      }))\n    })\n\n    const optionScope = computed(() => {\n      if (virtualScrollLength.value === 0) {\n        return []\n      }\n\n      const { from, to } = virtualScrollSliceRange.value\n\n      return props.options.slice(from, to).map((opt, i) => {\n        const disable = isOptionDisabled.value(opt) === true\n        const active = isOptionSelected(opt) === true\n        const index = from + i\n\n        const itemProps = {\n          clickable: true,\n          active,\n          activeClass: computedOptionsSelectedClass.value,\n          manualFocus: true,\n          focused: false,\n          disable,\n          tabindex: -1,\n          dense: props.optionsDense,\n          dark: isOptionsDark.value,\n          role: 'option',\n          'aria-selected': active === true ? 'true' : 'false',\n          id: `${ state.targetUid.value }_${ index }`,\n          onClick: () => { toggleOption(opt) }\n        }\n\n        if (disable !== true) {\n          optionIndex.value === index && (itemProps.focused = true)\n\n          if ($q.platform.is.desktop === true) {\n            itemProps.onMousemove = () => { menu.value === true && setOptionIndex(index) }\n          }\n        }\n\n        return {\n          index,\n          opt,\n          html: needsHtmlFn.value(opt),\n          label: getOptionLabel.value(opt),\n          selected: itemProps.active,\n          focused: itemProps.focused,\n          toggleOption,\n          setOptionIndex,\n          itemProps\n        }\n      })\n    })\n\n    const dropdownArrowIcon = computed(() => (\n      props.dropdownIcon !== void 0\n        ? props.dropdownIcon\n        : $q.iconSet.arrow.dropdown\n    ))\n\n    const squaredMenu = computed(() =>\n      props.optionsCover === false\n      && props.outlined !== true\n      && props.standout !== true\n      && props.borderless !== true\n      && props.rounded !== true\n    )\n\n    const computedOptionsSelectedClass = computed(() => (\n      props.optionsSelectedClass !== void 0\n        ? props.optionsSelectedClass\n        : (props.color !== void 0 ? `text-${ props.color }` : '')\n    ))\n\n    // returns method to get value of an option;\n    // takes into account 'option-value' prop\n    const getOptionValue = computed(() => getPropValueFn(props.optionValue, 'value'))\n\n    // returns method to get label of an option;\n    // takes into account 'option-label' prop\n    const getOptionLabel = computed(() => getPropValueFn(props.optionLabel, 'label'))\n\n    // returns method to tell if an option is disabled;\n    // takes into account 'option-disable' prop\n    const isOptionDisabled = computed(() => getPropValueFn(props.optionDisable, 'disable'))\n\n    const innerOptionsValue = computed(() => innerValue.value.map(opt => getOptionValue.value(opt)))\n\n    const inputControlEvents = computed(() => {\n      const evt = {\n        onInput,\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        onChange: onComposition,\n        onKeydown: onTargetKeydown,\n        onKeyup: onTargetAutocomplete,\n        onKeypress: onTargetKeypress,\n        onFocus: selectInputText,\n        onClick (e) { hasDialog === true && stop(e) }\n      }\n\n      evt.onCompositionstart = evt.onCompositionupdate = evt.onCompositionend = onComposition\n\n      return evt\n    })\n\n    watch(innerValue, val => {\n      innerValueCache = val\n\n      if (\n        props.useInput === true\n        && props.fillInput === true\n        && props.multiple !== true\n        // Prevent re-entering in filter while filtering\n        // Also prevent clearing inputValue while filtering\n        && state.innerLoading.value !== true\n        && ((dialog.value !== true && menu.value !== true) || hasValue.value !== true)\n      ) {\n        userInputValue !== true && resetInputValue()\n        if (dialog.value === true || menu.value === true) {\n          filter('')\n        }\n      }\n    }, { immediate: true })\n\n    watch(() => props.fillInput, resetInputValue)\n\n    watch(menu, updateMenu)\n\n    watch(virtualScrollLength, rerenderMenu)\n\n    function getEmittingOptionValue (opt) {\n      return props.emitValue === true\n        ? getOptionValue.value(opt)\n        : opt\n    }\n\n    function removeAtIndex (index) {\n      if (index > -1 && index < innerValue.value.length) {\n        if (props.multiple === true) {\n          const model = props.modelValue.slice()\n          emit('remove', { index, value: model.splice(index, 1)[ 0 ] })\n          emit('update:modelValue', model)\n        }\n        else {\n          emit('update:modelValue', null)\n        }\n      }\n    }\n\n    function removeAtIndexAndFocus (index) {\n      removeAtIndex(index)\n      state.focus()\n    }\n\n    function add (opt, unique) {\n      const val = getEmittingOptionValue(opt)\n\n      if (props.multiple !== true) {\n        props.fillInput === true && updateInputValue(\n          getOptionLabel.value(opt),\n          true,\n          true\n        )\n\n        emit('update:modelValue', val)\n        return\n      }\n\n      if (innerValue.value.length === 0) {\n        emit('add', { index: 0, value: val })\n        emit('update:modelValue', props.multiple === true ? [ val ] : val)\n        return\n      }\n\n      if (unique === true && isOptionSelected(opt) === true) {\n        return\n      }\n\n      if (props.maxValues !== void 0 && props.modelValue.length >= props.maxValues) {\n        return\n      }\n\n      const model = props.modelValue.slice()\n\n      emit('add', { index: model.length, value: val })\n      model.push(val)\n      emit('update:modelValue', model)\n    }\n\n    function toggleOption (opt, keepOpen) {\n      if (state.editable.value !== true || opt === void 0 || isOptionDisabled.value(opt) === true) {\n        return\n      }\n\n      const optValue = getOptionValue.value(opt)\n\n      if (props.multiple !== true) {\n        if (keepOpen !== true) {\n          updateInputValue(\n            props.fillInput === true ? getOptionLabel.value(opt) : '',\n            true,\n            true\n          )\n\n          hidePopup()\n        }\n\n        targetRef.value !== null && targetRef.value.focus()\n\n        if (\n          innerValue.value.length === 0\n          || isDeepEqual(getOptionValue.value(innerValue.value[ 0 ]), optValue) !== true\n        ) {\n          emit('update:modelValue', props.emitValue === true ? optValue : opt)\n        }\n        return\n      }\n\n      (hasDialog !== true || dialogFieldFocused.value === true) && state.focus()\n\n      selectInputText()\n\n      if (innerValue.value.length === 0) {\n        const val = props.emitValue === true ? optValue : opt\n        emit('add', { index: 0, value: val })\n        emit('update:modelValue', props.multiple === true ? [ val ] : val)\n        return\n      }\n\n      const\n        model = props.modelValue.slice(),\n        index = innerOptionsValue.value.findIndex(v => isDeepEqual(v, optValue))\n\n      if (index > -1) {\n        emit('remove', { index, value: model.splice(index, 1)[ 0 ] })\n      }\n      else {\n        if (props.maxValues !== void 0 && model.length >= props.maxValues) {\n          return\n        }\n\n        const val = props.emitValue === true ? optValue : opt\n\n        emit('add', { index: model.length, value: val })\n        model.push(val)\n      }\n\n      emit('update:modelValue', model)\n    }\n\n    function setOptionIndex (index) {\n      if ($q.platform.is.desktop !== true) { return }\n\n      const val = index > -1 && index < virtualScrollLength.value\n        ? index\n        : -1\n\n      if (optionIndex.value !== val) {\n        optionIndex.value = val\n      }\n    }\n\n    function moveOptionSelection (offset = 1, skipInputValue) {\n      if (menu.value === true) {\n        let index = optionIndex.value\n        do {\n          index = normalizeToInterval(\n            index + offset,\n            -1,\n            virtualScrollLength.value - 1\n          )\n        }\n        while (index !== -1 && index !== optionIndex.value && isOptionDisabled.value(props.options[ index ]) === true)\n\n        if (optionIndex.value !== index) {\n          setOptionIndex(index)\n          scrollTo(index)\n\n          if (skipInputValue !== true && props.useInput === true && props.fillInput === true) {\n            setInputValue(\n              index >= 0\n                ? getOptionLabel.value(props.options[ index ])\n                : defaultInputValue,\n              true\n            )\n          }\n        }\n      }\n    }\n\n    function getOption (value, valueCache) {\n      const fn = opt => isDeepEqual(getOptionValue.value(opt), value)\n      return props.options.find(fn) || valueCache.find(fn) || value\n    }\n\n    function getPropValueFn (propValue, defaultVal) {\n      const val = propValue !== void 0\n        ? propValue\n        : defaultVal\n\n      return typeof val === 'function'\n        ? val\n        : opt => (opt !== null && typeof opt === 'object' && val in opt ? opt[ val ] : opt)\n    }\n\n    function isOptionSelected (opt) {\n      const val = getOptionValue.value(opt)\n      return innerOptionsValue.value.find(v => isDeepEqual(v, val)) !== void 0\n    }\n\n    function selectInputText (e) {\n      if (\n        props.useInput === true\n        && targetRef.value !== null\n        && (e === void 0 || (targetRef.value === e.target && e.target.value === selectedString.value))\n      ) {\n        targetRef.value.select()\n      }\n    }\n\n    function onTargetKeyup (e) {\n      // if ESC and we have an opened menu\n      // then stop propagation (might be caught by a QDialog\n      // and so it will also close the QDialog, which is wrong)\n      if (isKeyCode(e, 27) === true && menu.value === true) {\n        stop(e)\n        // on ESC we need to close the dialog also\n        hidePopup()\n        resetInputValue()\n      }\n\n      emit('keyup', e)\n    }\n\n    function onTargetAutocomplete (e) {\n      const { value } = e.target\n\n      if (e.keyCode !== void 0) {\n        onTargetKeyup(e)\n        return\n      }\n\n      e.target.value = ''\n\n      if (filterTimer !== null) {\n        clearTimeout(filterTimer)\n        filterTimer = null\n      }\n      if (inputValueTimer !== null) {\n        clearTimeout(inputValueTimer)\n        inputValueTimer = null\n      }\n\n      resetInputValue()\n\n      if (typeof value === 'string' && value.length !== 0) {\n        const needle = value.toLocaleLowerCase()\n        const findFn = extractFn => {\n          const option = props.options.find(opt => extractFn.value(opt).toLocaleLowerCase() === needle)\n\n          if (option === void 0) {\n            return false\n          }\n\n          if (innerValue.value.indexOf(option) === -1) {\n            toggleOption(option)\n          }\n          else {\n            hidePopup()\n          }\n\n          return true\n        }\n        const fillFn = afterFilter => {\n          if (findFn(getOptionValue) === true) {\n            return\n          }\n          if (findFn(getOptionLabel) === true || afterFilter === true) {\n            return\n          }\n\n          filter(value, true, () => fillFn(true))\n        }\n\n        fillFn()\n      }\n      else {\n        state.clearValue(e)\n      }\n    }\n\n    function onTargetKeypress (e) {\n      emit('keypress', e)\n    }\n\n    function onTargetKeydown (e) {\n      emit('keydown', e)\n\n      if (shouldIgnoreKey(e) === true) {\n        return\n      }\n\n      const newValueModeValid = inputValue.value.length !== 0\n        && (props.newValueMode !== void 0 || props.onNewValue !== void 0)\n\n      const tabShouldSelect = e.shiftKey !== true\n        && props.multiple !== true\n        && (optionIndex.value > -1 || newValueModeValid === true)\n\n      // escape\n      if (e.keyCode === 27) {\n        prevent(e) // prevent clearing the inputValue\n        return\n      }\n\n      // tab\n      if (e.keyCode === 9 && tabShouldSelect === false) {\n        closeMenu()\n        return\n      }\n\n      if (\n        e.target === void 0\n        || e.target.id !== state.targetUid.value\n        || state.editable.value !== true\n      ) { return }\n\n      // down\n      if (\n        e.keyCode === 40\n        && state.innerLoading.value !== true\n        && menu.value === false\n      ) {\n        stopAndPrevent(e)\n        showPopup()\n        return\n      }\n\n      // backspace\n      if (\n        e.keyCode === 8\n        && (\n          props.useChips === true\n          || props.clearable === true\n        )\n        && props.hideSelected !== true\n        && inputValue.value.length === 0\n      ) {\n        if (props.multiple === true && Array.isArray(props.modelValue) === true) {\n          removeAtIndex(props.modelValue.length - 1)\n        }\n        else if (props.multiple !== true && props.modelValue !== null) {\n          emit('update:modelValue', null)\n        }\n        return\n      }\n\n      // home, end - 36, 35\n      if (\n        (e.keyCode === 35 || e.keyCode === 36)\n        && (typeof inputValue.value !== 'string' || inputValue.value.length === 0)\n      ) {\n        stopAndPrevent(e)\n        optionIndex.value = -1\n        moveOptionSelection(e.keyCode === 36 ? 1 : -1, props.multiple)\n      }\n\n      // pg up, pg down - 33, 34\n      if (\n        (e.keyCode === 33 || e.keyCode === 34)\n        && virtualScrollSliceSizeComputed.value !== void 0\n      ) {\n        stopAndPrevent(e)\n        optionIndex.value = Math.max(\n          -1,\n          Math.min(\n            virtualScrollLength.value,\n            optionIndex.value + (e.keyCode === 33 ? -1 : 1) * virtualScrollSliceSizeComputed.value.view\n          )\n        )\n        moveOptionSelection(e.keyCode === 33 ? 1 : -1, props.multiple)\n      }\n\n      // up, down\n      if (e.keyCode === 38 || e.keyCode === 40) {\n        stopAndPrevent(e)\n        moveOptionSelection(e.keyCode === 38 ? -1 : 1, props.multiple)\n      }\n\n      const optionsLength = virtualScrollLength.value\n\n      // clear search buffer if expired\n      if (searchBuffer === void 0 || searchBufferExp < Date.now()) {\n        searchBuffer = ''\n      }\n\n      // keyboard search when not having use-input\n      if (\n        optionsLength > 0\n        && props.useInput !== true\n        && e.key !== void 0\n        && e.key.length === 1 // printable char\n        && e.altKey === false // not kbd shortcut\n        && e.ctrlKey === false // not kbd shortcut\n        && e.metaKey === false // not kbd shortcut, especially on macOS with Command key\n        && (e.keyCode !== 32 || searchBuffer.length !== 0) // space in middle of search\n      ) {\n        menu.value !== true && showPopup(e)\n\n        const\n          char = e.key.toLocaleLowerCase(),\n          keyRepeat = searchBuffer.length === 1 && searchBuffer[ 0 ] === char\n\n        searchBufferExp = Date.now() + 1500\n        if (keyRepeat === false) {\n          stopAndPrevent(e)\n          searchBuffer += char\n        }\n\n        const searchRe = new RegExp('^' + searchBuffer.split('').map(l => (reEscapeList.indexOf(l) > -1 ? '\\\\' + l : l)).join('.*'), 'i')\n\n        let index = optionIndex.value\n\n        if (keyRepeat === true || index < 0 || searchRe.test(getOptionLabel.value(props.options[ index ])) !== true) {\n          do {\n            index = normalizeToInterval(index + 1, -1, optionsLength - 1)\n          }\n          while (index !== optionIndex.value && (\n            isOptionDisabled.value(props.options[ index ]) === true\n            || searchRe.test(getOptionLabel.value(props.options[ index ])) !== true\n          ))\n        }\n\n        if (optionIndex.value !== index) {\n          nextTick(() => {\n            setOptionIndex(index)\n            scrollTo(index)\n\n            if (index >= 0 && props.useInput === true && props.fillInput === true) {\n              setInputValue(getOptionLabel.value(props.options[ index ]), true)\n            }\n          })\n        }\n\n        return\n      }\n\n      // enter, space (when not using use-input and not in search), or tab (when not using multiple and option selected)\n      // same target is checked above\n      if (\n        e.keyCode !== 13\n        && (e.keyCode !== 32 || props.useInput === true || searchBuffer !== '')\n        && (e.keyCode !== 9 || tabShouldSelect === false)\n      ) { return }\n\n      e.keyCode !== 9 && stopAndPrevent(e)\n\n      if (optionIndex.value > -1 && optionIndex.value < optionsLength) {\n        toggleOption(props.options[ optionIndex.value ])\n        return\n      }\n\n      if (newValueModeValid === true) {\n        const done = (val, mode) => {\n          if (mode) {\n            if (validateNewValueMode(mode) !== true) {\n              return\n            }\n          }\n          else {\n            mode = props.newValueMode\n          }\n\n          updateInputValue('', props.multiple !== true, true)\n\n          if (val === void 0 || val === null) {\n            return\n          }\n\n          const fn = mode === 'toggle' ? toggleOption : add\n          fn(val, mode === 'add-unique')\n\n          if (props.multiple !== true) {\n            targetRef.value !== null && targetRef.value.focus()\n            hidePopup()\n          }\n        }\n\n        if (props.onNewValue !== void 0) {\n          emit('newValue', inputValue.value, done)\n        }\n        else {\n          done(inputValue.value)\n        }\n\n        if (props.multiple !== true) {\n          return\n        }\n      }\n\n      if (menu.value === true) {\n        closeMenu()\n      }\n      else if (state.innerLoading.value !== true) {\n        showPopup()\n      }\n    }\n\n    function getVirtualScrollEl () {\n      return hasDialog === true\n        ? menuContentRef.value\n        : (\n            menuRef.value !== null && menuRef.value.contentEl !== null\n              ? menuRef.value.contentEl\n              : void 0\n          )\n    }\n\n    function getVirtualScrollTarget () {\n      return getVirtualScrollEl()\n    }\n\n    function getSelection () {\n      if (props.hideSelected === true) {\n        return []\n      }\n\n      if (slots[ 'selected-item' ] !== void 0) {\n        return selectedScope.value.map(scope => slots[ 'selected-item' ](scope)).slice()\n      }\n\n      if (slots.selected !== void 0) {\n        return [].concat(slots.selected())\n      }\n\n      if (props.useChips === true) {\n        return selectedScope.value.map((scope, i) => h(QChip, {\n          key: 'option-' + i,\n          removable: state.editable.value === true && isOptionDisabled.value(scope.opt) !== true,\n          dense: true,\n          textColor: props.color,\n          tabindex: tabindex.value,\n          onRemove () { scope.removeAtIndex(i) }\n        }, () => h('span', {\n          class: 'ellipsis',\n          [ scope.html === true ? 'innerHTML' : 'textContent' ]: getOptionLabel.value(scope.opt)\n        })))\n      }\n\n      return [\n        h('span', {\n          [ valueAsHtml.value === true ? 'innerHTML' : 'textContent' ]: ariaCurrentValue.value\n        })\n      ]\n    }\n\n    function getAllOptions () {\n      if (noOptions.value === true) {\n        return slots[ 'no-option' ] !== void 0\n          ? slots[ 'no-option' ]({ inputValue: inputValue.value })\n          : void 0\n      }\n\n      const fn = slots.option !== void 0\n        ? slots.option\n        : scope => {\n          return h(QItem, {\n            key: scope.index,\n            ...scope.itemProps\n          }, () => {\n            return h(\n              QItemSection,\n              () => h(\n                QItemLabel,\n                () => h('span', {\n                  [ scope.html === true ? 'innerHTML' : 'textContent' ]: scope.label\n                })\n              )\n            )\n          })\n        }\n\n      let options = padVirtualScroll('div', optionScope.value.map(fn))\n\n      if (slots[ 'before-options' ] !== void 0) {\n        options = slots[ 'before-options' ]().concat(options)\n      }\n\n      return hMergeSlot(slots[ 'after-options' ], options)\n    }\n\n    function getInput (fromDialog, isTarget) {\n      const attrs = isTarget === true ? { ...comboboxAttrs.value, ...state.splitAttrs.attributes.value } : void 0\n\n      const data = {\n        ref: isTarget === true ? targetRef : void 0,\n        key: 'i_t',\n        class: computedInputClass.value,\n        style: props.inputStyle,\n        value: inputValue.value !== void 0 ? inputValue.value : '',\n        // required for Android in order to show ENTER key when in form\n        type: 'search',\n        ...attrs,\n        id: isTarget === true ? state.targetUid.value : void 0,\n        maxlength: props.maxlength,\n        autocomplete: props.autocomplete,\n        'data-autofocus': fromDialog === true || props.autofocus === true || void 0,\n        disabled: props.disable === true,\n        readonly: props.readonly === true,\n        ...inputControlEvents.value\n      }\n\n      if (fromDialog !== true && hasDialog === true) {\n        if (Array.isArray(data.class) === true) {\n          data.class = [ ...data.class, 'no-pointer-events' ]\n        }\n        else {\n          data.class += ' no-pointer-events'\n        }\n      }\n\n      return h('input', data)\n    }\n\n    function onInput (e) {\n      if (filterTimer !== null) {\n        clearTimeout(filterTimer)\n        filterTimer = null\n      }\n      if (inputValueTimer !== null) {\n        clearTimeout(inputValueTimer)\n        inputValueTimer = null\n      }\n\n      if (e && e.target && e.target.qComposing === true) {\n        return\n      }\n\n      setInputValue(e.target.value || '')\n      // mark it here as user input so that if updateInputValue is called\n      // before filter is called the indicator is reset\n      userInputValue = true\n      defaultInputValue = inputValue.value\n\n      if (\n        state.focused.value !== true\n        && (hasDialog !== true || dialogFieldFocused.value === true)\n      ) {\n        state.focus()\n      }\n\n      if (props.onFilter !== void 0) {\n        filterTimer = setTimeout(() => {\n          filterTimer = null\n          filter(inputValue.value)\n        }, props.inputDebounce)\n      }\n    }\n\n    function setInputValue (val, emitImmediately) {\n      if (inputValue.value !== val) {\n        inputValue.value = val\n\n        if (emitImmediately === true || props.inputDebounce === 0 || props.inputDebounce === '0') {\n          emit('inputValue', val)\n        }\n        else {\n          inputValueTimer = setTimeout(() => {\n            inputValueTimer = null\n            emit('inputValue', val)\n          }, props.inputDebounce)\n        }\n      }\n    }\n\n    function updateInputValue (val, noFiltering, internal) {\n      userInputValue = internal !== true\n\n      if (props.useInput === true) {\n        setInputValue(val, true)\n\n        if (noFiltering === true || internal !== true) {\n          defaultInputValue = val\n        }\n\n        noFiltering !== true && filter(val)\n      }\n    }\n\n    function filter (val, keepClosed, afterUpdateFn) {\n      if (props.onFilter === void 0 || (keepClosed !== true && state.focused.value !== true)) {\n        return\n      }\n\n      if (state.innerLoading.value === true) {\n        emit('filterAbort')\n      }\n      else {\n        state.innerLoading.value = true\n        innerLoadingIndicator.value = true\n      }\n\n      if (\n        val !== ''\n        && props.multiple !== true\n        && innerValue.value.length !== 0\n        && userInputValue !== true\n        && val === getOptionLabel.value(innerValue.value[ 0 ])\n      ) {\n        val = ''\n      }\n\n      const localFilterId = setTimeout(() => {\n        menu.value === true && (menu.value = false)\n      }, 10)\n\n      filterId !== null && clearTimeout(filterId)\n      filterId = localFilterId\n\n      emit(\n        'filter',\n        val,\n        (fn, afterFn) => {\n          if ((keepClosed === true || state.focused.value === true) && filterId === localFilterId) {\n            clearTimeout(filterId)\n\n            typeof fn === 'function' && fn()\n\n            // hide indicator to allow arrow to animate\n            innerLoadingIndicator.value = false\n\n            nextTick(() => {\n              state.innerLoading.value = false\n\n              if (state.editable.value === true) {\n                if (keepClosed === true) {\n                  menu.value === true && hidePopup()\n                }\n                else if (menu.value === true) {\n                  updateMenu(true)\n                }\n                else {\n                  menu.value = true\n                }\n              }\n\n              typeof afterFn === 'function' && nextTick(() => { afterFn(proxy) })\n              typeof afterUpdateFn === 'function' && nextTick(() => { afterUpdateFn(proxy) })\n            })\n          }\n        },\n        () => {\n          if (state.focused.value === true && filterId === localFilterId) {\n            clearTimeout(filterId)\n            state.innerLoading.value = false\n            innerLoadingIndicator.value = false\n          }\n          menu.value === true && (menu.value = false)\n        }\n      )\n    }\n\n    function getMenu () {\n      return h(QMenu, {\n        ref: menuRef,\n        class: menuContentClass.value,\n        style: props.popupContentStyle,\n        modelValue: menu.value,\n        fit: props.menuShrink !== true,\n        cover: props.optionsCover === true && noOptions.value !== true && props.useInput !== true,\n        anchor: props.menuAnchor,\n        self: props.menuSelf,\n        offset: props.menuOffset,\n        dark: isOptionsDark.value,\n        noParentEvent: true,\n        noRefocus: true,\n        noFocus: true,\n        square: squaredMenu.value,\n        transitionShow: props.transitionShow,\n        transitionHide: props.transitionHide,\n        transitionDuration: props.transitionDuration,\n        separateClosePopup: true,\n        ...listboxAttrs.value,\n        onScrollPassive: onVirtualScrollEvt,\n        onBeforeShow: onControlPopupShow,\n        onBeforeHide: onMenuBeforeHide,\n        onShow: onMenuShow\n      }, getAllOptions)\n    }\n\n    function onMenuBeforeHide (e) {\n      onControlPopupHide(e)\n      closeMenu()\n    }\n\n    function onMenuShow () {\n      setVirtualScrollSize()\n    }\n\n    function onDialogFieldFocus (e) {\n      stop(e)\n      targetRef.value !== null && targetRef.value.focus()\n      dialogFieldFocused.value = true\n      window.scrollTo(window.pageXOffset || window.scrollX || document.body.scrollLeft || 0, 0)\n    }\n\n    function onDialogFieldBlur (e) {\n      stop(e)\n      nextTick(() => {\n        dialogFieldFocused.value = false\n      })\n    }\n\n    function getDialog () {\n      const content = [\n        h(QField, {\n          class: `col-auto ${ state.fieldClass.value }`,\n          ...innerFieldProps.value,\n          for: state.targetUid.value,\n          dark: isOptionsDark.value,\n          square: true,\n          loading: innerLoadingIndicator.value,\n          itemAligned: false,\n          filled: true,\n          stackLabel: inputValue.value.length !== 0,\n          ...state.splitAttrs.listeners.value,\n          onFocus: onDialogFieldFocus,\n          onBlur: onDialogFieldBlur\n        }, {\n          ...slots,\n          rawControl: () => state.getControl(true),\n          before: void 0,\n          after: void 0\n        })\n      ]\n\n      menu.value === true && content.push(\n        h('div', {\n          ref: menuContentRef,\n          class: menuContentClass.value + ' scroll',\n          style: props.popupContentStyle,\n          ...listboxAttrs.value,\n          onClick: prevent,\n          onScrollPassive: onVirtualScrollEvt\n        }, getAllOptions())\n      )\n\n      return h(QDialog, {\n        ref: dialogRef,\n        modelValue: dialog.value,\n        position: props.useInput === true ? 'top' : void 0,\n        transitionShow: transitionShowComputed,\n        transitionHide: props.transitionHide,\n        transitionDuration: props.transitionDuration,\n        onBeforeShow: onControlPopupShow,\n        onBeforeHide: onDialogBeforeHide,\n        onHide: onDialogHide,\n        onShow: onDialogShow\n      }, () => h('div', {\n        class: 'q-select__dialog'\n          + (isOptionsDark.value === true ? ' q-select__dialog--dark q-dark' : '')\n          + (dialogFieldFocused.value === true ? ' q-select__dialog--focused' : '')\n      }, content))\n    }\n\n    function onDialogBeforeHide (e) {\n      onControlPopupHide(e)\n\n      if (dialogRef.value !== null) {\n        dialogRef.value.__updateRefocusTarget(\n          state.rootRef.value.querySelector('.q-field__native > [tabindex]:last-child')\n        )\n      }\n\n      state.focused.value = false\n    }\n\n    function onDialogHide (e) {\n      hidePopup()\n      state.focused.value === false && emit('blur', e)\n      resetInputValue()\n    }\n\n    function onDialogShow () {\n      const el = document.activeElement\n      if (\n        (el === null || el.id !== state.targetUid.value)\n        && targetRef.value !== null\n        && targetRef.value !== el\n      ) {\n        targetRef.value.focus()\n      }\n\n      setVirtualScrollSize()\n    }\n\n    function closeMenu () {\n      if (dialog.value === true) {\n        return\n      }\n\n      optionIndex.value = -1\n\n      if (menu.value === true) {\n        menu.value = false\n      }\n\n      if (state.focused.value === false) {\n        if (filterId !== null) {\n          clearTimeout(filterId)\n          filterId = null\n        }\n\n        if (state.innerLoading.value === true) {\n          emit('filterAbort')\n          state.innerLoading.value = false\n          innerLoadingIndicator.value = false\n        }\n      }\n    }\n\n    function showPopup (e) {\n      if (state.editable.value !== true) {\n        return\n      }\n\n      if (hasDialog === true) {\n        state.onControlFocusin(e)\n        dialog.value = true\n        nextTick(() => {\n          state.focus()\n        })\n      }\n      else {\n        state.focus()\n      }\n\n      if (props.onFilter !== void 0) {\n        filter(inputValue.value)\n      }\n      else if (noOptions.value !== true || slots[ 'no-option' ] !== void 0) {\n        menu.value = true\n      }\n    }\n\n    function hidePopup () {\n      dialog.value = false\n      closeMenu()\n    }\n\n    function resetInputValue () {\n      props.useInput === true && updateInputValue(\n        props.multiple !== true && props.fillInput === true && innerValue.value.length !== 0\n          ? getOptionLabel.value(innerValue.value[ 0 ]) || ''\n          : '',\n        true,\n        true\n      )\n    }\n\n    function updateMenu (show) {\n      let optionIndex = -1\n\n      if (show === true) {\n        if (innerValue.value.length !== 0) {\n          const val = getOptionValue.value(innerValue.value[ 0 ])\n          optionIndex = props.options.findIndex(v => isDeepEqual(getOptionValue.value(v), val))\n        }\n\n        localResetVirtualScroll(optionIndex)\n      }\n\n      setOptionIndex(optionIndex)\n    }\n\n    function rerenderMenu (newLength, oldLength) {\n      if (menu.value === true && state.innerLoading.value === false) {\n        localResetVirtualScroll(-1, true)\n\n        nextTick(() => {\n          if (menu.value === true && state.innerLoading.value === false) {\n            if (newLength > oldLength) {\n              localResetVirtualScroll()\n            }\n            else {\n              updateMenu(true)\n            }\n          }\n        })\n      }\n    }\n\n    function updateMenuPosition () {\n      if (dialog.value === false && menuRef.value !== null) {\n        menuRef.value.updatePosition()\n      }\n    }\n\n    function onControlPopupShow (e) {\n      e !== void 0 && stop(e)\n      emit('popupShow', e)\n      state.hasPopupOpen = true\n      state.onControlFocusin(e)\n    }\n\n    function onControlPopupHide (e) {\n      e !== void 0 && stop(e)\n      emit('popupHide', e)\n      state.hasPopupOpen = false\n      state.onControlFocusout(e)\n    }\n\n    function updatePreState () {\n      hasDialog = $q.platform.is.mobile !== true && props.behavior !== 'dialog'\n        ? false\n        : props.behavior !== 'menu' && (\n          props.useInput === true\n            ? slots[ 'no-option' ] !== void 0 || props.onFilter !== void 0 || noOptions.value === false\n            : true\n        )\n\n      transitionShowComputed = $q.platform.is.ios === true && hasDialog === true && props.useInput === true\n        ? 'fade'\n        : props.transitionShow\n    }\n\n    onBeforeUpdate(updatePreState)\n    onUpdated(updateMenuPosition)\n\n    updatePreState()\n\n    onBeforeUnmount(() => {\n      filterTimer !== null && clearTimeout(filterTimer)\n      inputValueTimer !== null && clearTimeout(inputValueTimer)\n    })\n\n    // expose public methods\n    Object.assign(proxy, {\n      showPopup, hidePopup,\n      removeAtIndex, add, toggleOption,\n      getOptionIndex: () => optionIndex.value,\n      setOptionIndex, moveOptionSelection,\n      filter, updateMenuPosition, updateInputValue,\n      isOptionSelected,\n      getEmittingOptionValue,\n      isOptionDisabled: (...args) => isOptionDisabled.value.apply(null, args) === true,\n      getOptionValue: (...args) => getOptionValue.value.apply(null, args),\n      getOptionLabel: (...args) => getOptionLabel.value.apply(null, args)\n    })\n\n    Object.assign(state, {\n      innerValue,\n\n      fieldClass: computed(() =>\n        `q-select q-field--auto-height q-select--with${ props.useInput !== true ? 'out' : '' }-input`\n        + ` q-select--with${ props.useChips !== true ? 'out' : '' }-chips`\n        + ` q-select--${ props.multiple === true ? 'multiple' : 'single' }`\n      ),\n\n      inputRef,\n      targetRef,\n      hasValue,\n      showPopup,\n\n      floatingLabel: computed(() =>\n        (props.hideSelected !== true && hasValue.value === true)\n        || typeof inputValue.value === 'number'\n        || inputValue.value.length !== 0\n        || fieldValueIsFilled(props.displayValue)\n      ),\n\n      getControlChild: () => {\n        if (\n          state.editable.value !== false && (\n            dialog.value === true // dialog always has menu displayed, so need to render it\n            || noOptions.value !== true\n            || slots[ 'no-option' ] !== void 0\n          )\n        ) {\n          return hasDialog === true ? getDialog() : getMenu()\n        }\n        else if (state.hasPopupOpen === true) {\n          // explicitly set it otherwise TAB will not blur component\n          state.hasPopupOpen = false\n        }\n      },\n\n      controlEvents: {\n        onFocusin (e) { state.onControlFocusin(e) },\n        onFocusout (e) {\n          state.onControlFocusout(e, () => {\n            resetInputValue()\n            closeMenu()\n          })\n        },\n        onClick (e) {\n          // label from QField will propagate click on the input\n          prevent(e)\n\n          if (hasDialog !== true && menu.value === true) {\n            closeMenu()\n            targetRef.value !== null && targetRef.value.focus()\n            return\n          }\n\n          showPopup(e)\n        }\n      },\n\n      getControl: fromDialog => {\n        const child = getSelection()\n        const isTarget = fromDialog === true || dialog.value !== true || hasDialog !== true\n\n        if (props.useInput === true) {\n          child.push(getInput(fromDialog, isTarget))\n        }\n        // there can be only one (when dialog is opened the control in dialog should be target)\n        else if (state.editable.value === true) {\n          const attrs = isTarget === true ? comboboxAttrs.value : void 0\n\n          child.push(\n            h('input', {\n              ref: isTarget === true ? targetRef : void 0,\n              key: 'd_t',\n              class: 'q-select__focus-target',\n              id: isTarget === true ? state.targetUid.value : void 0,\n              value: ariaCurrentValue.value,\n              readonly: true,\n              'data-autofocus': fromDialog === true || props.autofocus === true || void 0,\n              ...attrs,\n              onKeydown: onTargetKeydown,\n              onKeyup: onTargetKeyup,\n              onKeypress: onTargetKeypress\n            })\n          )\n\n          if (isTarget === true && typeof props.autocomplete === 'string' && props.autocomplete.length !== 0) {\n            child.push(\n              h('input', {\n                class: 'q-select__autocomplete-input',\n                autocomplete: props.autocomplete,\n                tabindex: -1,\n                onKeyup: onTargetAutocomplete\n              })\n            )\n          }\n        }\n\n        if (nameProp.value !== void 0 && props.disable !== true && innerOptionsValue.value.length !== 0) {\n          const opts = innerOptionsValue.value.map(value => h('option', { value, selected: true }))\n\n          child.push(\n            h('select', {\n              class: 'hidden',\n              name: nameProp.value,\n              multiple: props.multiple\n            }, opts)\n          )\n        }\n\n        const attrs = props.useInput === true || isTarget !== true ? void 0 : state.splitAttrs.attributes.value\n\n        return h('div', {\n          class: 'q-field__native row items-center',\n          ...attrs,\n          ...state.splitAttrs.listeners.value\n        }, child)\n      },\n\n      getInnerAppend: () => (\n        props.loading !== true && innerLoadingIndicator.value !== true && props.hideDropdownIcon !== true\n          ? [\n              h(QIcon, {\n                class: 'q-select__dropdown-icon' + (menu.value === true ? ' rotate-180' : ''),\n                name: dropdownArrowIcon.value\n              })\n            ]\n          : null\n      )\n    })\n\n    return useField(state)\n  }\n})\n"],"names":["QField","createComponent","useFieldProps","useFieldEmits","useField","useFieldState","aggBucketSize","scrollToEdges","filterProto","setOverflowAnchor","noop","contentEl","index","children","el","sumFn","acc","h","getScrollDetails","parent","child","beforeRef","afterRef","horizontal","rtl","stickyStart","stickyEnd","parentCalc","propElSize","details","rtlHasScrollBug","parentRect","childRect","setScroll","scroll","sumSize","sizeAgg","size","from","to","lastTo","fromAgg","toAgg","total","commonVirtScrollProps","commonVirtPropsList","useVirtualScrollProps","useVirtualScroll","virtualScrollLength","getVirtualScrollTarget","getVirtualScrollEl","virtualScrollItemSizeComputed","vm","getCurrentInstance","props","emit","proxy","$q","prevScrollStart","prevToIndex","localScrollViewSize","virtualScrollSizesAgg","virtualScrollSizes","virtualScrollPaddingBefore","ref","virtualScrollPaddingAfter","virtualScrollSliceSizeComputed","contentRef","virtualScrollSliceRange","colspanAttr","computed","needsReset","needsSliceRecalc","watch","setVirtualScrollSize","reset","localResetVirtualScroll","refresh","toIndex","scrollTo","edge","scrollEl","scrollDetails","setVirtualScrollSliceRange","localOnVirtualScrollEvt","listLastIndex","listEndOffset","updateVirtualScrollSizes","scrollMaxStart","listOffset","offset","j","align","alignForce","alignEnd","alignRange","rangeChanged","emitScroll","activeElement","onBlurRefocusFn","sizeBefore","tempTo","sizeAfter","posStart","posEnd","scrollPosition","sizeDiff","scrollStart","childrenLength","sizeFn","diff","i","fullReset","defaultSize","oldVirtualScrollSizesLength","jMax","iMax","nextTick","onVirtualScrollEvt","scrollViewSize","virtualScrollSliceRatioBefore","virtualScrollSliceRatioAfter","multiplier","view","baseSize","padVirtualScroll","tag","content","paddingSize","style","debounce","onBeforeMount","shouldActivate","onDeactivated","onActivated","onBeforeUnmount","validateNewValueMode","v","reEscapeList","fieldPropsList","QSelect","useFormProps","slots","menu","dialog","optionIndex","inputValue","dialogFieldFocused","innerLoadingIndicator","filterTimer","inputValueTimer","innerValueCache","hasDialog","userInputValue","filterId","defaultInputValue","transitionShowComputed","searchBuffer","searchBufferExp","inputRef","targetRef","menuRef","dialogRef","menuContentRef","nameProp","useFormInputNameAttr","onComposition","useKeyComposition","onInput","state","innerValue","mapNull","val","cache","values","getOption","innerFieldProps","key","isOptionsDark","hasValue","fieldValueIsFilled","computedInputClass","cls","menuContentClass","noOptions","selectedString","opt","getOptionLabel","ariaCurrentValue","needsHtmlFn","valueAsHtml","tabindex","comboboxAttrs","attrs","listboxAttrs","selectedScope","removeAtIndexAndFocus","toggleOption","optionScope","disable","isOptionDisabled","active","isOptionSelected","itemProps","computedOptionsSelectedClass","setOptionIndex","dropdownArrowIcon","squaredMenu","getOptionValue","getPropValueFn","innerOptionsValue","inputControlEvents","evt","onTargetKeydown","onTargetAutocomplete","onTargetKeypress","selectInputText","e","stop","resetInputValue","filter","updateMenu","rerenderMenu","getEmittingOptionValue","removeAtIndex","model","add","unique","updateInputValue","keepOpen","optValue","hidePopup","isDeepEqual","moveOptionSelection","skipInputValue","normalizeToInterval","setInputValue","value","valueCache","fn","propValue","defaultVal","onTargetKeyup","isKeyCode","needle","findFn","extractFn","option","fillFn","afterFilter","shouldIgnoreKey","newValueModeValid","tabShouldSelect","prevent","closeMenu","stopAndPrevent","showPopup","optionsLength","char","keyRepeat","searchRe","l","done","mode","getSelection","scope","QChip","getAllOptions","QItem","QItemSection","QItemLabel","options","hMergeSlot","getInput","fromDialog","isTarget","data","emitImmediately","noFiltering","internal","keepClosed","afterUpdateFn","localFilterId","afterFn","getMenu","QMenu","onControlPopupShow","onMenuBeforeHide","onMenuShow","onControlPopupHide","onDialogFieldFocus","onDialogFieldBlur","getDialog","QDialog","onDialogBeforeHide","onDialogHide","onDialogShow","show","newLength","oldLength","updateMenuPosition","updatePreState","onBeforeUpdate","onUpdated","args","opts","QIcon"],"mappings":"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","x_google_ignoreList":[0,1,2]}
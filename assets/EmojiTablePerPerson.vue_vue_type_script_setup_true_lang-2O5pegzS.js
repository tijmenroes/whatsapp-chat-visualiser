import{Q as _}from"./QTable-JMYp6idG.js";import{y as T,k as m,z as f,A as b,B as k,d as p,r as v,C as j,o as g,c as h,b as c,w as d,e as w,D as y,E as C}from"./index-juLqhY3g.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a6770c7d-7617-4fbc-93be-c62de4008cb2",e._sentryDebugIdIdentifier="sentry-dbid-a6770c7d-7617-4fbc-93be-c62de4008cb2")}catch{}})();const E=T({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const o=k(),i=m(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return f("td",{class:i.value},b(t.default));const u=o.vnode.key,s=(e.props.colsMap!==void 0?e.props.colsMap[u]:null)||e.props.col;if(s===void 0)return;const{row:n}=e.props;return f("td",{class:i.value+s.__tdClass(n),style:s.__tdStyle(n)},b(t.default))}}}),O={class:"container"},B={class:"isEmoji"},x=p({__name:"EmojiTable",props:{data:{type:Object,required:!0}},setup(e){const t=e,o=v(),i=[{name:"emoji",label:"Emoji",field:"emoji",align:"left"},{name:"value",align:"left",label:"Amount",field:"value",sortable:!0}],u=m(()=>{var l;const s=(l=t.data.flatMap(a=>a.messages).flatMap(a=>a.emojis))==null?void 0:l.reduce(function(a,r){return a[r||""]?++a[r||""]:a[r||""]=1,a},{}),n=[];for(const a of Object.entries(s))n.push({emoji:a[0],value:a[1]});return n});return j(()=>{o.value.sort("value"),o.value.sort("value")}),(s,n)=>(g(),h("div",O,[c(_,{ref_key:"dataTable",ref:o,class:"emojiTable",outlined:"",rows:u.value,columns:i,pagination:{rowsPerPage:10},flat:""},{"body-cell-emoji":d(l=>[c(E,null,{default:d(()=>[w("div",B,y(l.row.emoji),1)]),_:2},1024)]),_:1},8,["rows"])]))}});function I(e){return!e||!e.length?{}:e.reduce(function(t,o){return t[o]?++t[o]:t[o]=1,t},{})}const M=[{name:"emoji",label:"Emoji",field:"emoji",align:"left"},{name:"author",label:"Sent by",field:"author",align:"left"},{name:"value",align:"right",label:"Amount",field:"value",sortable:!0}],D={class:"container"},P={class:"isEmoji"},A=p({__name:"EmojiTablePerPerson",props:{data:{type:Object,required:!0}},setup(e){const t=e,o=v(),i=M,u=m(()=>{const s=[];return t.data.map(n=>{const l=n.messages.flatMap(r=>r.emojis),a=I(l);for(const r of Object.entries(a))s.push({emoji:r[0],author:n.name,value:r[1]})}),s});return j(()=>{o.value.sort("value"),o.value.sort("value")}),(s,n)=>(g(),h("div",D,[c(_,{class:"emojiTable",ref_key:"dataTable",ref:o,outlined:"",rows:u.value,columns:C(i),pagination:{rowsPerPage:10},flat:""},{"body-cell-emoji":d(l=>[c(E,null,{default:d(()=>[w("div",P,y(l.row.emoji),1)]),_:2},1024)]),_:1},8,["rows","columns"])]))}});export{x as _,A as a};
//# sourceMappingURL=EmojiTablePerPerson.vue_vue_type_script_setup_true_lang-2O5pegzS.js.map

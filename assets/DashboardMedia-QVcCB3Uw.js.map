{"version":3,"file":"DashboardMedia-QVcCB3Uw.js","sources":["../../src/views/dashboard/DashboardMedia.vue"],"sourcesContent":["<template>\n  <div class=\"row dashboardView\">\n    <DashboardCard\n      is-small\n      title=\"Attachments sent\"\n    >\n      <BarChart\n        :series=\"attachmentsAbsolute.series\"\n        :categories=\"attachmentsAbsolute.categories\"\n      />\n    </DashboardCard>\n\n    <DashboardCard\n      is-small\n      title=\"Average attachments sent per message\"\n    >\n      <!-- <AttachmentsChart\n        :data=\"attachmentMessages\"\n        show-relative\n      /> -->\n      <BarChart\n        :series=\"attachmentsRelative.series\"\n        :categories=\"attachmentsRelative.categories\"\n      />\n    </DashboardCard>\n\n    <DashboardCard title=\"Attachments sent over time\">\n      <TimeSlide :data=\"attachmentMessages\" />\n    </DashboardCard>\n\n    <DashboardCard\n      is-small\n      title=\"Stickers sent\"\n      v-if=\"showSticker\"\n    >\n      <BarChart\n        :series=\"attachmentsStickers.series\"\n        :categories=\"attachmentsStickers.categories\"\n      />\n    </DashboardCard>\n\n    <DashboardCard\n      is-small\n      title=\"Videos sent\"\n      v-if=\"showVideo\"\n    >\n      <BarChart\n        :series=\"attachmentsVideos.series\"\n        :categories=\"attachmentsVideos.categories\"\n      />\n    </DashboardCard>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport BarChart from '@/components/BarChart.vue'\nimport { useStore } from '@/store'\nimport TimeSlide from '@/components/TimeSlide.vue'\nimport DashboardCard from '@/components/dashboard/DashboardCard.vue'\nimport { useSummaryStore } from '@/store/summary'\nimport { SUMMARY_COLLECTION } from '@/config/summaryItems'\nimport useAttachmentSeries from '@/composables/useAttachmentSeries.ts'\n\nconst store = useStore()\nconst allMessages = computed(() => store.messagesPerAuthor)\nconst attachmentMessages = computed(() => store.messagesContainginAttachments)\nconst stickerMessages = computed(() => attachmentMessages.value?.map((author) => ({ ...author, messages: author.messages.filter((message) => message.message === '‎sticker weggelaten') })))\nconst videoMessages = computed(() => attachmentMessages.value?.map((author) => ({ ...author, messages: author.messages.filter((message) => message.message === '‎video weggelaten') })))\n\nconst showVideo = computed(() => attachmentMessages.value.some((author) => author.messages.some((message) => message.message === '‎video weggelaten')))\nconst showSticker = computed(() => attachmentMessages.value.some((author) => author.messages.some((message) => message.message === '‎sticker weggelaten')))\n\nconst summaryStore = useSummaryStore()\nsummaryStore.setSummaryState(SUMMARY_COLLECTION.media)\n\nconst attachmentsAbsolute = computed(() => useAttachmentSeries(attachmentMessages.value, false))\nconst attachmentsRelative = computed(() => useAttachmentSeries(allMessages.value, true))\nconst attachmentsStickers = computed(() => useAttachmentSeries(stickerMessages.value, false))\nconst attachmentsVideos = computed(() => useAttachmentSeries(videoMessages.value, false))\n</script>\n"],"names":["store","useStore","allMessages","computed","attachmentMessages","stickerMessages","_a","author","message","videoMessages","showVideo","showSticker","useSummaryStore","SUMMARY_COLLECTION","attachmentsAbsolute","useAttachmentSeries","attachmentsRelative","attachmentsStickers","attachmentsVideos"],"mappings":"qvBAgEA,MAAMA,EAAQC,IACRC,EAAcC,EAAS,IAAMH,EAAM,iBAAiB,EACpDI,EAAqBD,EAAS,IAAMH,EAAM,6BAA6B,EACvEK,EAAkBF,EAAS,IAAA,OAAM,OAAAG,EAAAF,EAAmB,QAAnB,YAAAE,EAA0B,IAAKC,IAAY,CAAE,GAAGA,EAAQ,SAAUA,EAAO,SAAS,OAAQC,GAAYA,EAAQ,UAAY,qBAAqB,KAAK,EACrLC,EAAgBN,EAAS,IAAA,OAAM,OAAAG,EAAAF,EAAmB,QAAnB,YAAAE,EAA0B,IAAKC,IAAY,CAAE,GAAGA,EAAQ,SAAUA,EAAO,SAAS,OAAQC,GAAYA,EAAQ,UAAY,mBAAmB,KAAK,EAEjLE,EAAYP,EAAS,IAAMC,EAAmB,MAAM,KAAMG,GAAWA,EAAO,SAAS,KAAMC,GAAYA,EAAQ,UAAY,mBAAmB,CAAC,CAAC,EAChJG,EAAcR,EAAS,IAAMC,EAAmB,MAAM,KAAMG,GAAWA,EAAO,SAAS,KAAMC,GAAYA,EAAQ,UAAY,qBAAqB,CAAC,CAAC,EAErII,IACR,gBAAgBC,EAAmB,KAAK,EAErD,MAAMC,EAAsBX,EAAS,IAAMY,EAAoBX,EAAmB,MAAO,EAAK,CAAC,EACzFY,EAAsBb,EAAS,IAAMY,EAAoBb,EAAY,MAAO,EAAI,CAAC,EACjFe,EAAsBd,EAAS,IAAMY,EAAoBV,EAAgB,MAAO,EAAK,CAAC,EACtFa,EAAoBf,EAAS,IAAMY,EAAoBN,EAAc,MAAO,EAAK,CAAC"}
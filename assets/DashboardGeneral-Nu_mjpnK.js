import{q as S,t as k,r as x,c as a,L as A,w as y,x as E,y as s,z as o,M as F,N as G,A as N,O as B,P,R as W,S as T,T as O,U as M,V as U,C as V,W as q}from"./index-1HBlqc_i.js";import{D as n}from"./DashboardCard-QEUyZilR.js";(function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[t]="b59062dd-f4b6-41e8-ae6e-8bcdddcd9771",i._sentryDebugIdIdentifier="sentry-dbid-b59062dd-f4b6-41e8-ae6e-8bcdddcd9771")}catch{}})();const z={class:"row dashboardView"},H={class:"row"},R=S({__name:"DashboardGeneral",setup(i){const t=k(),c=x(["the"]),b=a(()=>t.authorsDataMessages),v=a(()=>t.messagesPerAuthor),_=a(()=>t.messagesContainingEmoji),$=a(()=>t.messagesContainginAttachments),w=a(()=>t.eventsData),p=a(()=>t.totalDays),D=a(()=>t.isGroupChat),I=a(()=>C());console.log(I),A(t.filterDate,()=>{C()},{immediate:!0});function C(){const g=a(()=>v.value.map(e=>e.messages.length).reduce((e,u)=>e+u,0)),f=a(()=>v.value.map(e=>({name:e.name,messages:e.messages.length})).sort((e,u)=>u.messages-e.messages)),m=a(()=>{var r;const e=(r=_.value.flatMap(l=>l.messages).flatMap(l=>l.emojis))==null?void 0:r.reduce(function(l,d){return l[d||""]?++l[d||""]:l[d||""]=1,l},{});return Object.entries(e||{}).sort((l,d)=>d[1]-l[1]).splice(0,4).map(([l,d])=>({emoji:l,count:d}))}),h=a(()=>f.value.map(e=>({name:e.name,messages:e.messages/p.value}))),j=a(()=>{var e,u,r;return[{title:"Total messages sent",value:g.value,icon:"message",subtitle:`Daily average ${(g.value/p.value).toFixed(2)} messages`,class:"",showValue:!!g.value},{title:"Most messages sent",value:h.value[0].name,subtitle:`Daily average ${h.value[0].messages.toFixed(2)} messages`,icon:"keyboard",class:"",showValue:!!h.value[0].messages},{title:"Most used emoji",value:((e=m.value[0])==null?void 0:e.emoji)||"No emoji used",subtitle:`Daily average ${(((u=m.value[0])==null?void 0:u.count)/p.value).toFixed(2)} times used`,icon:"mood",class:"isEmoji",showValue:!!((r=m.value[0])!=null&&r.count)}]});return t.setSummaryItems(j.value),{summaryItems:j}}return(g,f)=>(y(),E("div",z,[s(n,{title:"Messages per day"},{default:o(()=>[s(F,{data:v.value},null,8,["data"])]),_:1}),s(n,{title:"Filter how many times words are used",subtitle:"Fill in words to see how often they are used"},{default:o(()=>[s(G,{filled:"",modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=m=>c.value=m),multiple:"","use-chips":"","hide-dropdown-icon":"","use-input":"","new-value-mode":"add",label:"Multiple selection"},null,8,["modelValue"]),N("div",H,[s(B,{class:"col-12",data:b.value,"filter-words":c.value},null,8,["data","filter-words"])])]),_:1}),s(n,{"is-small":"",title:"Emoji's used total"},{default:o(()=>[s(P,{data:_.value},null,8,["data"])]),_:1}),s(n,{"is-small":"",title:"Emoji's used per person"},{default:o(()=>[s(W,{data:_.value,class:"col-6"},null,8,["data"])]),_:1}),s(n,{"is-small":"",title:"Attachments sent"},{default:o(()=>[s(T,{data:$.value},null,8,["data"])]),_:1}),s(n,{"is-small":"",title:"Message length total"},{default:o(()=>[s(O,{data:b.value},null,8,["data"])]),_:1}),D.value?(y(),M(n,{key:0,"is-small":"",title:"Group events"},{default:o(()=>[s(U,{data:w.value},null,8,["data"])]),_:1})):V("",!0),D.value?(y(),M(n,{key:1,"is-small":"",title:"Group name changes"},{default:o(()=>[s(q,{data:w.value},null,8,["data"])]),_:1})):V("",!0)]))}});export{R as default};
//# sourceMappingURL=DashboardGeneral-Nu_mjpnK.js.map

{"version":3,"file":"DashboardDates-MiH0C8oH.js","sources":["../../src/composables/useMessagePerDaySeries.ts","../../src/views/dashboard/DashboardDates.vue"],"sourcesContent":["import { Author, Message } from '@/utils/types'\nimport { groupBy } from '@/utils/helperFunctions.ts'\nimport { computed } from 'vue'\n\nexport function messagePerDaySeries(authors: Author[], isHour = false) {\n  const data = isHour ? Array.from({ length: 24 }, () => 0) : Array.from({ length: 7 }, () => 0)\n  const categories = isHour ? Array.from({ length: 24 }, (_, i) => i) : ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n\n  const series = computed(() =>\n    authors.map((participant) => {\n      const dates = getGroupedData(participant.messages)\n      const personData = JSON.parse(JSON.stringify(data))\n      Object.entries(dates).forEach((item: [string | string, Message[]]) => {\n        if (typeof item[0] === 'string') {\n          personData[parseInt(item[0], 10)] = item[1].length\n        }\n      })\n\n      return {\n        id: participant.authorIndex,\n        name: participant.name,\n        data: personData,\n      }\n    })\n  )\n\n  function getGroupedData(messages: Message[]) {\n    return isHour\n      ? groupBy(messages, 'hour')\n      : groupBy(\n          messages.map((item) => ({\n            day: new Date(item.date)?.getDay(),\n          })),\n          'day'\n        )\n  }\n\n  return { series: series.value, categories }\n}\n","<template>\n  <div class=\"row dashboardView\">\n    <DashboardCard title=\"Messages per day\">\n      <TimeSlide :data=\"allMessages\" />\n    </DashboardCard>\n\n    <DashboardCard title=\"Messages per day of the week\">\n      <BarChart\n        :series=\"messagesPerDay.series\"\n        :categories=\"messagesPerDay.categories\"\n      />\n    </DashboardCard>\n\n    <DashboardCard title=\"Messages per hour\">\n      <BarChart\n        :series=\"messagesPerHour.series\"\n        :categories=\"messagesPerHour.categories\"\n      />\n    </DashboardCard>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport TimeSlide from '@/components/TimeSlide.vue'\nimport BarChart from '@/components/BarChart.vue'\nimport { useStore } from '@/store'\nimport { useSummaryStore } from '@/store/summary'\nimport { SUMMARY_COLLECTION } from '@/config/summaryItems'\nimport DashboardCard from '@/components/dashboard/DashboardCard.vue'\nimport { messagePerDaySeries } from '@/composables/useMessagePerDaySeries.ts'\n\nconst store = useStore()\nconst summaryStore = useSummaryStore()\nconst allMessages = computed(() => store.messagesPerAuthor)\nsummaryStore.setSummaryState(SUMMARY_COLLECTION.dates)\n\nconst messagesPerDay = computed(() => messagePerDaySeries(allMessages.value, false))\nconst messagesPerHour = computed(() => messagePerDaySeries(allMessages.value, true))\n</script>\n"],"names":["messagePerDaySeries","authors","isHour","data","categories","_","i","series","computed","participant","dates","getGroupedData","personData","item","messages","groupBy","_a","store","useStore","summaryStore","useSummaryStore","allMessages","SUMMARY_COLLECTION","messagesPerDay","messagesPerHour"],"mappings":"wmBAIgB,SAAAA,EAAoBC,EAAmBC,EAAS,GAAO,CACrE,MAAMC,EAAOD,EAAS,MAAM,KAAK,CAAE,OAAQ,IAAM,IAAM,CAAC,EAAI,MAAM,KAAK,CAAE,OAAQ,CAAE,EAAG,IAAM,CAAC,EACvFE,EAAaF,EAAS,MAAM,KAAK,CAAE,OAAQ,IAAM,CAACG,EAAGC,IAAMA,CAAC,EAAI,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,EAEhHC,EAASC,EAAS,IACtBP,EAAQ,IAAKQ,GAAgB,CACrB,MAAAC,EAAQC,EAAeF,EAAY,QAAQ,EAC3CG,EAAa,KAAK,MAAM,KAAK,UAAUT,CAAI,CAAC,EAClD,cAAO,QAAQO,CAAK,EAAE,QAASG,GAAuC,CAChE,OAAOA,EAAK,CAAC,GAAM,WACVD,EAAA,SAASC,EAAK,CAAC,EAAG,EAAE,CAAC,EAAIA,EAAK,CAAC,EAAE,OAC9C,CACD,EAEM,CACL,GAAIJ,EAAY,YAChB,KAAMA,EAAY,KAClB,KAAMG,CAAA,CACR,CACD,CAAA,EAGH,SAASD,EAAeG,EAAqB,CAC3C,OAAOZ,EACHa,EAAQD,EAAU,MAAM,EACxBC,EACED,EAAS,IAAKD,GAAU,OAAA,OACtB,KAAKG,EAAA,IAAI,KAAKH,EAAK,IAAI,IAAlB,YAAAG,EAAqB,QAAO,EACjC,EACF,KAAA,CAER,CAEA,MAAO,CAAE,OAAQT,EAAO,MAAO,WAAAH,CAAW,CAC5C,2ECNA,MAAMa,EAAQC,IACRC,EAAeC,IACfC,EAAcb,EAAS,IAAMS,EAAM,iBAAiB,EAC7CE,EAAA,gBAAgBG,EAAmB,KAAK,EAErD,MAAMC,EAAiBf,EAAS,IAAMR,EAAoBqB,EAAY,MAAO,EAAK,CAAC,EAC7EG,EAAkBhB,EAAS,IAAMR,EAAoBqB,EAAY,MAAO,EAAI,CAAC"}
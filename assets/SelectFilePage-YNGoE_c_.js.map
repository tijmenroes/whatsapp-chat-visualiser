{"version":3,"file":"SelectFilePage-YNGoE_c_.js","sources":["../../src/views/SelectFilePage.vue"],"sourcesContent":["<template>\r\n  <div class=\"column justify-center items-center HomePage\">\r\n    <q-file\r\n      class=\"fileUpload\"\r\n      accept=\".txt\"\r\n      outlined\r\n      v-model=\"file\"\r\n      @update:model-value=\"onFileUploaded\"\r\n    >\r\n      <template #default>\r\n        <div\r\n          class=\"dropArea fileContent\"\r\n          :class=\"{ isDragging }\"\r\n          @drop.prevent=\"onDrop\"\r\n          @dragenter.prevent=\"isDragging = true\"\r\n          @dragleave.prevent=\"isDragging = false\"\r\n          @dragover.prevent\r\n        >\r\n          <div\r\n            v-if=\"isDragging\"\r\n            class=\"column align-center items-center\"\r\n          >\r\n            <q-icon\r\n              size=\"xl\"\r\n              name=\"upload\"\r\n            />\r\n            <div class=\"heading-4\">Drop it like it's hot</div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          class=\"fileContent\"\r\n          v-if=\"!isDragging\"\r\n        >\r\n          <div class=\"column align-center items-center\">\r\n            <q-icon\r\n              size=\"xl\"\r\n              name=\"upload\"\r\n            />\r\n            <span class=\"heading-4 q-my-md\">Drop file here</span>\r\n\r\n            <div class=\"text-uppercase text-muted row items-center\">\r\n              <div class=\"minus\" />\r\n              <span>or select file manually</span>\r\n              <div class=\"minus\" />\r\n            </div>\r\n            <q-btn\r\n              class=\"q-mt-md\"\r\n              label=\"Select file\"\r\n              icon=\"upload\"\r\n              color=\"primary\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </q-file>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\nimport { useStore } from './../store'\r\nimport { useRouter } from 'vue-router'\r\n\r\nconst file = ref<File | null>(null)\r\nconst store = useStore()\r\nconst router = useRouter()\r\nconst isDragging = ref(false)\r\n\r\nfunction onFileUploaded(file: File) {\r\n  const reader = new FileReader()\r\n\r\n  reader.onload = async () => {\r\n    // console.log(reader.result)\r\n    console.log('loaded file')\r\n    await store.setStoreData(reader.result as string)\r\n    router.push('/file-scanned')\r\n  }\r\n  reader.readAsText(file)\r\n}\r\n\r\nfunction onDrop(event: DragEvent) {\r\n  if (event.dataTransfer?.files) {\r\n    const file = event.dataTransfer.files[0]\r\n    onFileUploaded(file)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n:deep(.fileUpload) {\r\n  .q-field__control {\r\n    height: 400px;\r\n    width: 700px;\r\n\r\n    &:before {\r\n      border: 1px dashed #e4e4e7;\r\n      box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.05);\r\n    }\r\n  }\r\n}\r\n.dropArea {\r\n  z-index: 99;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  &.isDragging {\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n  }\r\n}\r\n.fileContent {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.minus {\r\n  width: 15px;\r\n  height: 2px;\r\n  background-color: $text-muted;\r\n  margin: 0 4px;\r\n}\r\n</style>\r\n"],"names":["file","ref","store","useStore","router","useRouter","isDragging","onFileUploaded","reader","onDrop","event","_a"],"mappings":"sgCA+DM,MAAAA,EAAOC,EAAiB,IAAI,EAC5BC,EAAQC,IACRC,EAASC,IACTC,EAAaL,EAAI,EAAK,EAE5B,SAASM,EAAeP,EAAY,CAC5B,MAAAQ,EAAS,IAAI,WAEnBA,EAAO,OAAS,SAAY,CAE1B,QAAQ,IAAI,aAAa,EACnB,MAAAN,EAAM,aAAaM,EAAO,MAAgB,EAChDJ,EAAO,KAAK,eAAe,CAAA,EAE7BI,EAAO,WAAWR,CAAI,CACxB,CAEA,SAASS,EAAOC,EAAkB,OAC5B,IAAAC,EAAAD,EAAM,eAAN,MAAAC,EAAoB,MAAO,CAC7B,MAAMX,EAAOU,EAAM,aAAa,MAAM,CAAC,EACvCH,EAAeP,CAAI,CACrB,CACF"}
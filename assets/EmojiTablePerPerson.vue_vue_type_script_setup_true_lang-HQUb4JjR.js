import{Q as b}from"./QTable-F11J7ezZ.js";import{y as E,k as f,z as m,A as _,B as k,d as p,r as v,C as j,o as g,c as h,b as d,w as c,e as w,D as y,v as C}from"./index-G_vrZqBm.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="aaaaa57d-7f87-426d-98f2-3e1134d1b8ea",e._sentryDebugIdIdentifier="sentry-dbid-aaaaa57d-7f87-426d-98f2-3e1134d1b8ea")}catch{}})();const T=E({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const o=k(),i=f(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return m("td",{class:i.value},_(t.default));const u=o.vnode.key,s=(e.props.colsMap!==void 0?e.props.colsMap[u]:null)||e.props.col;if(s===void 0)return;const{row:n}=e.props;return m("td",{class:i.value+s.__tdClass(n),style:s.__tdStyle(n)},_(t.default))}}}),O={class:"container"},B={class:"isEmoji"},x=p({__name:"EmojiTable",props:{data:{type:Object,required:!0}},setup(e){const t=e,o=v(),i=[{name:"emoji",label:"Emoji",field:"emoji",align:"left"},{name:"value",align:"left",label:"Amount",field:"value",sortable:!0}],u=f(()=>{var l;const s=(l=t.data.flatMap(a=>a.messages).flatMap(a=>a.emojis))==null?void 0:l.reduce(function(a,r){return a[r||""]?++a[r||""]:a[r||""]=1,a},{}),n=[];for(const a of Object.entries(s))n.push({emoji:a[0],value:a[1]});return n});return j(()=>{o.value.sort("value"),o.value.sort("value")}),(s,n)=>(g(),h("div",O,[d(b,{ref_key:"dataTable",ref:o,class:"emojiTable",outlined:"",rows:u.value,columns:i,pagination:{rowsPerPage:10},flat:""},{"body-cell-emoji":c(l=>[d(T,null,{default:c(()=>[w("div",B,y(l.row.emoji),1)]),_:2},1024)]),_:1},8,["rows"])]))}});function I(e){return!e||!e.length?{}:e.reduce(function(t,o){return t[o]?++t[o]:t[o]=1,t},{})}const M=[{name:"emoji",label:"Emoji",field:"emoji",align:"left"},{name:"author",label:"Sent by",field:"author",align:"left"},{name:"value",align:"right",label:"Amount",field:"value",sortable:!0}],D={class:"container"},P={class:"isEmoji"},A=p({__name:"EmojiTablePerPerson",props:{data:{type:Object,required:!0}},setup(e){const t=e,o=v(),i=M,u=f(()=>{const s=[];return t.data.map(n=>{const l=n.messages.flatMap(r=>r.emojis),a=I(l);for(const r of Object.entries(a))s.push({emoji:r[0],author:n.name,value:r[1]})}),s});return j(()=>{o.value.sort("value"),o.value.sort("value")}),(s,n)=>(g(),h("div",D,[d(b,{class:"emojiTable",ref_key:"dataTable",ref:o,outlined:"",rows:u.value,columns:C(i),pagination:{rowsPerPage:10},flat:""},{"body-cell-emoji":c(l=>[d(T,null,{default:c(()=>[w("div",P,y(l.row.emoji),1)]),_:2},1024)]),_:1},8,["rows","columns"])]))}});export{x as _,A as a};
//# sourceMappingURL=EmojiTablePerPerson.vue_vue_type_script_setup_true_lang-HQUb4JjR.js.map
